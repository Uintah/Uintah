<!--
  The contents of this file are subject to the University of Utah Public
  License (the "License"); you may not use this file except in compliance
  with the License.
  
  Software distributed under the License is distributed on an "AS IS"
  basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
  License for the specific language governing rights and limitations under
  the License.
  
  The Original Source Code is SCIRun, released March 12, 2001.
  
  The Original Source Code was developed by the University of Utah.
  Portions created by UNIVERSITY are Copyright (C) 2001, 1994 
  University of Utah. All Rights Reserved.
-->

<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <meta name="Author" content="Erik Jorgensen">
 <link rel=stylesheet type="text/css" href="http://www.sci.utah.edu/scirun_docs/doc/doc_styles.css">
 <title>SCIRun inst and build instructions - Unix version</title>
</head>

<body>
<a href="http://www.sci.utah.edu"><img style="margin-left:-2em"
src="http://www.sci.utah.edu/images/SCI_logo.gif" border="0" hspace="10" height="66" width="150"></a>

<p class="title">Installation and Build Instructions for the SCIRun PSE</p>
<p class="subtitle">(Unix version - Updated February 17, 2001)</p>

<p class="head">Table of contents</p>
<ol class="toc">
      <LI><A HREF="#Prerequisites">Prerequisites</A></LI>
      <LI><A HREF="#Requirements">Minimum System Software Requirements</A></LI>
      <LI><A HREF="#Installing">Installing SCIRun</A></LI>
      <LI><A HREF="#Building">Building SCIRun</A></LI>
      <LI><A HREF="#RunningSCIRun">Running SCIRun</A></LI>
      <LI><A HREF="#AdditionalDocs">Additional Documentation</A></LI>
      <LI><A HREF="#GettingHelp">Getting Help</A></LI>
      <LI><A HREF="#Gotchas">Known Issues</A></LI>
      <LI><A HREF="#Appendix">Appendix</A></LI>
</ol>

<br><br><br>
<p class="head"><a name="Prerequisites">Prerequisites</a></p>
    <p class="firstpara">
      Use of this document requires experience with the SGI
      Irix operating system and/or the Linux operating system.
      Knowledge of file systems, programming in C/C++, building
      software from tarball distributions and shell scripting will
      be useful if not required.  The installation or upgrade of
      core system components (such as the OS and compilers) may be
      required.  As such, a system administrator's assistance may
      be warranted.
    </p>

<br><br><br><p class="head"><a name="Requirements">Minimum System Software Requirements</a></p>
    <p class="firstpara">
      At the moment only two platforms are officially supported: SGI
      and Linux.
    </p>

    <p class="firstpara">
      The following table describes the minimum system software
      requirements for SCIRun.  Newer and/or older versions may
	  also work, but are not officially supported.
    </p>

    <p class="firstpara">
      Click on the links in the
      table to get information about (software column) or to download
      (version column) the software.
    </p>

    <p class="firstpara">
      Refer to the <a href="ThirdpartyInfo.html">Third Party Software
      Installation</a> page for information on installing the
      required software.
    </p>

    <p><center>
    <TABLE border=1>
      <TR>
        <TH>Platform</TH>
	<TH>Software</TH>
	<TH>Version</TH>
      </TR>

      <TR>
        <TD rowspan=2>SGI</TD>
	<TD> 
	  <A HREF=http://www.sgi.com/developers/technology/irix.html>
	    Irix
	  </A>
	</TD>
	<TD>6.5</TD>
      </TR>
      
      <TR>
        <TD>
          <A HREF="http://www.sgi.com/developers/devtools/languages/mipspro.html">
            MIPSpro compilers
          </A>
        </TD>
        <TD> 7.3.1.1m </TD>
      </TR>

      <TR>
        <TD rowspan=2>Linux</TD>
	<TD>
	  <A HREF="http://www.kernel.org">
            Kernel
	  </A> 
        </TD>
        <TD>
          <A HREF=http://www.kernel.org/pub/linux/kernel/v2.2/linux-2.2.14.tar.gz>
            2.2.14
          </A>
        </TD>
      </TR>

      <TR>
        <TD> 
          <A HREF="http://www.gnu.org/software/gcc/gcc.html">
            GCC
          </A>
        </TD>
        <TD> 
          <A HREF="ftp://gcc.gnu.org/pub/gcc/releases/gcc-2.95.2/gcc-2.95.2.tar.gz">
            2.95.2
          </A>
        </TD>
      </TR>

      <TR>
        <TD rowspan=7> SGI<br><br>and<br><br>Linux </TD>
        <TD>
          <A HREF="http://www.gnu.org/software/make/make.html">
            GNU make
          </A>
        </TD>
        <TD>
          <A HREF="ftp://ftp.gnu.org/gnu/make/make-3.79.1.tar.gz">
            3.79.1
          </A>
        </TD>
      </TR>

      <TR>
        <TD>
          <A HREF=http://dev.scriptics.com/software/tcltk/8.3.html>
            Tcl
          </A>
        </TD>
        <TD>
          <A HREF=http://dev.scriptics.com/download/tcl/tcl8_3/tcl8.3.2.tar.gz>
            8.3.2
          </A>
        </TD>
      </TR>

      <TR>
        <TD>
          <A HREF=http://dev.scriptics.com/software/tcltk/8.3.html>
            Tk
          </A>
        </TD>
        <TD>
          <A HREF=http://dev.scriptics.com/download/tcl/tcl8_3/tk8.3.2.tar.gz>
            8.3.2
          </A>
        </TD>
      </TR>

      <TR>
        <TD>
          <A HREF=http://www.tcltk.com/itcl>
            [incr Tcl/Tk]
          </A>
        </TD>
        <TD>
          <A HREF=http://dev.scriptics.com/ftp/itcl/itcl3.1.0.tar.gz>
            3.1.0
          </A>
        </TD>
      </TR>

      <TR>
        <TD>
          <A HREF="http://www.tcltk.com/blt">
            BLT
          </A>
        </TD>
        <TD>
          <A HREF="ftp://tcltk.sourceforge.net/pub/tcltk/blt/BLT2.4u.tar.gz">
            2.4u
          </A>
        </TD>
      </TR>

      <TR>
        <TD>
          <A HREF="http://xml.apache.org/xerces-c/index.html">
            Xerces-C
          </A>
        </TD>
        <TD>
          <A HREF=http://xml.apache.org/dist/xerces-c/stable/xerces-c-src1_4_0.tar.gz>
            1.4.0
          </A>
        </TD>
      </TR>
    </TABLE>
    </center>
    </p>
    
<br><br><br><br><p class="subhead"><a name="Recommend">Minimum System Recommendations</a></p>
    <p class="firstpara">
      For SGI machines:
    </p>
    <pre class="example">R10K 250MHz processor(s)
256MB main memory
Texture mapping hardware
    </pre>


    <p class="firstpara">
      For Linux machines:
    </p>
    <pre class="example">PIII 500MHz processor(s)
256MB main memory
XFree86 4.0.2
NVIDIA Geforce or Quadro graphics card with 0-9.6 drivers
Mandrake 7.2
    </pre>

<br><br><br><p class="head"><a name="Installing">Installing SCIRun</a></p>
    <p class="firstpara">
      <b>1. Obtain a copy of the SCIRun source tree.</b>  <a href="#Obtain">more...</a>
    </p>

    <p class="firstpara">
      <b>2. Install the source tree into a directory
      of your choosing.</b>  <a href="#Installdir">more...</a>  
    </p>

    <p class="firstpara">
      The chosen install directory will be referred to as <b><i><font
      color=green>INSTALL_DIR</font></i></b> from now on.
    </p>
      
<br><br><br><p class="head"><a name="Building">Building SCIRun</a></p>
  <p class="firstpara">
    <b>1. Ensure that the target install machine
      matches the above system requirements.</b>
        <a href="ThirdpartyInfo.html">more...</a>
  </p>

  <p class="firstpara">
    <b>2. Run configure from a directory of your choosing:</b>
      <a href="#Configure">more...</a>
  </p>

  <p class="firstpara">	
    The chosen configure directory will be referred to as <b><i><font
    color=green>BUILD_DIR</font></i></b> from now on.
  </p>

  <p class="firstpara">
    An example of a typical configure command:
  </p>

  <pre class="example"><b><i><font
      color=green>INSTALL_DIR</font></i></b><font color=blue>/SCIRun/src/configure --with-thirdparty=/usr/local/SCIRun_Thirdparty_32</font>
  </pre>

  <p class="firstpara">   
    <b>3. Run GNU make in the <i><font
    color=green>BUILD_DIR</font></i> directory</b>.
      <a href="#Make">more...</a>
  </p>

<br><br><br><p class="head"><a name="RunningSCIRun">Running SCIRun</a></p>
    <P class="firstpara">
      After a successful build, there will be an executable in
      the <i><b><font color=green>BUILD_DIR</font></b></i> directory named:
    </P>

    <pre class="example"><font color=blue>scirun</font>
    </pre>

    <p class="firstpara">
      Running this will open the SCIRun network editor window and start
      a console (called the SCIRun console) in the shell where scirun was
      started from.
    </p>   

    <p class="firstpara">
      If the window does not appear, note any errors
      displayed in the SCIRun console and see the getting
      help section below.  Of course, it might just be
      hiding behind other windows on the desktop!
    </p>

<br><br><br><p class="head"><a name="AdditionalDocs">Additional Documentation</a></p>
    <p class="firstpara">
      Additional Documentation about SCIRun can be obtained on
      the web at:
    </p>

    <pre class="example"><A HREF="http://www.sci.utah.edu/scirun_docs/doc">
http://www.cs.utah.edu/scirun_docs/doc</A>
    </pre>

<br><br><br><p class="head"><a name="GettingHelp">Getting Help</a></p>
    <p class="firstpara">
      There is a mailing list available for asking questions about
      using or installing SCIRun or to get help with resolving a problem.
        To subscribe to the mailing list, send email to:
    </p>

    <A HREF="mailto:majordomo@cs.utah.edu"><pre class="example">majordomo@cs.utah.edu</pre></A>

    <p class="firstpara">
      with the following in the body of the message:
    </p>

    <pre class="example"><font color=blue>subscribe scirun-users</font>
    </pre>

    <p class="firstpara">
      To use the mailing list, simply send your question or problem
      as an email to the list:
    </p>

    <A HREF="mailto:scirun-users@cs.utah.edu"><pre class="example">scirun-users@cs.utah.edu</pre></A>

    <P class="firstpara">
      To aid in problem resolution, include a verbatim (cut and paste) copy of
      the error(s) displayed (if any).  Also include a short description of
      what you we're doing (running a network, building the tree, etc.) and
      which version of SCIRun you have (SCIRun 1.0.0 alpha).
    </P>

<br><br><br>
<p class="head"><a name="Gotchas">Known Issues</a></p>
  <p class="firstpara">
    This section describes known issues with installing and building SCIRun.
    It also includes solutions when available. 
  </p>

<p class="subhead">Path Specifications</p>
    <p class="firstpara">
     If any of the software, SCIRun or thirdparty, is installed into a user's
     home directory, <i><b>do not</b></i> use abbreviations such as tilde
     expansion when specifying paths.  Instead, use full absolute paths.
     For example, use /home/bob/SCIRun instead of ~bob/SCIRun for the 
     --prefix arguments when configuring.  Most abbreviation techniques will
     not get expanded by the build scripts for any of the software.
    </p>

<p class="subhead">Configuring SCIRun</p>
  <p class="firstpara">
    The configure script expects the OpenGL headers to live in /usr/include/GL
    or /usr/X11R6/include/GL.
    Some linux distributions have the OpenGL headers installed in
    /usr/local/include/GL.  This is 
    non-standard and should be corrected, as this may cause version
    conflicts with other pieces of  
    software located in /usr/local.
  </p>

<p class="subhead">Full source of Tcl and Tk required</p>
  <p class="firstpara">
    SCIRun currently requires the full source of Tcl and Tk to be installed.
    This is required because SCIRun defines a few Tk widgets of it's own, and
    needs some headers from the source that aren't included with typical
    installations.  If your system already has the correct Tcl and Tk versions
    installed, you will have to re-install (see above) in order to have the
    sources included.
  </p>

<p class="subhead">Recommended linux distributions, processors and graphics 
cards</p>
  <p class="firstpara">
    SCIRun has been successfully built on several versions of linux including
    Mandrake 7.2, SuSE 7.0,
    and Debian 2.2.x (stable and unstable).  It has also been successfully
    installed (after much coaxing)
    on Redhat systems.
  </p>

  <p class="firstpara">
    SCIRun has been successfully installed on
    single and dual processor Intel
    machines, and on single processor AMD machines.
  </p>

  <p class="Firstpara">
    SCIRun has only been able to successfully use NVIDIA GeForce and Quadro
    graphics cards for hardware accelerated 3D OpenGL in XFree86 version 4.0.2
    using the 0-9.6 drivers, on both Intel and AMD machines.
  </p>

<br><br><br>
<p class="head"><a name="Appendix">Appendix</a></p>

<p class="subhead"><a name="Obtain">Obtaining a copy of the SCIRun source
tree</a></p>
    <p class="firstpara">
      If you have access to the SCIRun CVS repository (i.e. you are
      a student or staff member of the SCI Institute), then contact a
      member of the senior staff for information regarding CVS access.
    </p>

    <p class="firstpara">
      Otherwise, go to the SCIRun <a href="download">download page</a>. 
    </p>

<br><br><br><p class="subhead"><a name="Installdir">Installing SCIRun into a directory of
your choosing</a></p>
    <p class="firstpara">
      SCIRun can be installed into any directory, whether within a user
      home directory or a system application directory.  There is no "make
      install" step in the build process, so which ever directory is chosen
      is where SCIRun will be installed.
    </p>

    <p class="firstpara">
      For example, if you choose to install SCIRun into user Bob's home
      directory, then 
    </p>

    <pre class="example"><b><i><font 
    color=green>INSTALL_DIR</font></i></b> = /home/bob</pre>

    <p class="firstpara">
      Change directories to the <b><i><font color=green>INSTALL_DIR</font>
      </i></b> directory.  Depending on how SCIRun was obtained, either 
    </p>

    <p class="firstpara">
      a) unzip and untar the SCIRun source tree:
    </p>
    
    <pre class="example"><font color=blue>cd /home/bob
gunzip SCIRun.tar.gz
tar xvf SCIRun.tar</font>
    </pre>

    <p class="firstpara">
      or
    </p>

    <p class="firstpara">
      b) checkout the SCIRun source tree from the CVS repository:
    </p>

    <pre class="example"><font color=blue>cd /home/bob
cvs checkout SCIRun</font>
    </pre>

    <p class="firstpara">
      After installing, the <b><i><font color=green>INSTALL_DIR</font>
      </i></b> directory will have a sub directory named SCIRun:
    </p>

    <pre class="example">/home/bob/SCIRun</pre>

<br><br><br><br>
<p class="subhead"><a name="Configure">Configuring SCIRun</a></p>
    <p class="firstpara">
      There are many options for configuring SCIRun.  Chief among them
      is the configure location.  SCIRun can be configured from within the
      <b><i><font color=green>INSTALL_DIR</font></i></b>/SCIRun/src 
      directory, as is commonly done:
    </p>

    <pre class="example"><font color=blue>cd <b><i><font color=green>INSTALL_DIR</font></i></b>/SCIRun/src
./configure <b><i><font color=green>CONFIGURE_OPTIONS</font></font></i></b>
    </pre>

    <p class="firstpara">
      Configuring in the source directory yields:
    </p>

    <pre class="example"><b><i><font color=green>BUILD_DIR</font></i></b> = <b><i><font color=green>INSTALL_DIR</font></i></b>/SCIRun/src
    </pre>

    <p class="firstpara">
      However, SCIRun can also be configured from locations other than
      the source directory, which allows for having builds for multiple
      platforms or for multiple ABI's (Applications Binary Interface)
      while sharing a single source directory:
    </p>

    <pre class="example"><font color=blue>cd <b><i><font color=green>INSTALL_DIR</font></i></b>/SCIRun
mkdir linux
mkdir sgi32
mkdir sgi64
cd linux
../src/configure <b><i><font color=green>CONFIGURE_OPTIONS</font></i></b>
cd ../sgi32
../src/configure <b><i><font color=green>CONFIGURE_OPTIONS</font></i></b>
cd ../sgi64
../src/configure --enable-64bit <b><i><font color=green>CONFIGURE_OPTIONS</font></i></b></font>
    </pre>

    <p class="firstpara">
      The <b><i><font color=green>BUILD_DIR</font></i></b>'s for the above, in order, would be:
    </p>

    <pre class="example"><b><i><font color=green>BUILD_DIR</font></i></b> = <b><i><font color=green>INSTALL_DIR</font></i></b>/SCIRun/linux
<b><i><font color=green>BUILD_DIR</font></i></b> = <b><i><font color=green>INSTALL_DIR</font></i></b>/SCIRun/sgi32
<b><i><font color=green>BUILD_DIR</font></i></b> = <b><i><font color=green>INSTALL_DIR</font></i></b>/SCIRun/sgi64
    </pre>

    <p class="firstpara">
      In addition to the configure location, there are several options that
      may be invoked at configure time by supplying configure with arguments.
      The available <b><i><font color=green>CONFIGURE_OPTIONS</font></i></b>
      are:
    </p>

    <p class="firstpara">
      <table border="2" cellspacing="2" cellpadding="4">
      <tr><td>--enable-package</td><td>Compile the listed packages.  SCIRun
      modules are compiled automatically.  To also build the BioPSE and
      Uintah modules, use:
      --enable-package="BioPSE Uintah".</td></tr>
      <tr><td>--enable-exename</td><td>Overrides the default executable name
      for SCIRun.  The default is scirun.</td></tr>
      <tr><td>--enable-threads</td><td>Threads are always enabled, but this
      allows one to use a different implementation.  On the SGI,
      --enable-threads=pthreads and --enable-threads=sproc (default) are
      supported.  On other platforms, only --enable-threads=pthreads is
      supported.</td></tr>
      <tr><td>--enable-debug</td><td>Turn on debugging.  To simply use "-g",
      just use --enable-debug.  To use flags other than "-g", use
      --enable-debug="-myflags".</td></tr>
      <tr><td>--enable-optimize</td><td>Turn on optimization.
      To simply use "-O2",
      just use --enable-optimize.  To use flags other than "-O2", use
      --enable-optimize="-myflags".</td></tr>
      <tr><td>--enable-largesos</td><td>Instead of building a shared object
      per subdirectory, build a few "large" shared objects for the top level
      subdirectories.  This is more appropriate for distribution, and
      --disable-largesos (the default) is more appropriate for
      development.</td></tr>
      <tr><td>--enable-64bit</td><td>Compile in 64 bit mode.  Currently
      supported only on the SGI.</td></tr>
      <tr><td>--enable-assertion-level=N</td><td>Set the level of assertions
      to the level N.  0 means no assertions are caught, and level 3 (the
      default) performs extensive checking (including array bounds
      checks).</td></tr>
      <tr><td>--enable-parallel</td><td>Enable the "distributed memory"
      parallel SCIRun.  This requires the globus library (see the next
      flag).</td></tr>
      <tr><td>--with-globus=GLOBUS_DIR</td><td>Uses the globus libraries in
      GLOBUS_DIR.</td></tr>
      <tr><td>--with-thirdparty=INST_DIR</td><td>INST_DIR = the directory
      containing the /bin, /lib, /include and directories for all the required
      thirdparty software.</td></tr>
      <tr><td>--with-tcl=INST_DIR</td><td>INST_DIR = the directory containing
      the /bin, /lib, and /include directories for the Tcl distribution.
      </td></tr>
      <tr><td>--with-tk=INST_DIR</td><td>INST_DIR = the directory containing
      the /bin, /lib, and /include directories for the Tk distribution.
      defaults to value given by --with-tcl.</td></tr>
      <tr><td>--with-itcl=INST_DIR</td><td>INST_DIR = the directory containing
      the /bin, /lib, and /include directories for the [incr Tcl/Tk]
      distributions.  defaults to value given by --with-tcl.</td></tr>
      <tr><td>--with-blt=INST_DIR</td><td>INST_DIR = the directory containing
      the /bin, /lib, and /include directories for the BLT distribution.
      defaults to value given by --with-tcl.</td></tr>
      <tr><td>--with-xerces=INST_DIR</td><td>INST_DIR = the directory
      containing the /bin, /lib, and /include directories for the Xerces-C
      distribution.
      </td></tr>
      <tr><td>--with-mpeg[=INST_DIR]</td><td>INST_DIR = an optional
      argument for specifying the directory containing the /lib and
      /include directories for the mpeg_encode distribution.  If an
      INST_DIR is not specified, then the default SCIRun_Thirdparty
      directory will be assumed.  If the required header and library
      files are not found, or if this option is not specified, the
      Viewer rendering module will not have support for saving out
      MPEG movies.
      </td></tr>
      <tr><td>--with-nrrd=INST_DIR</td><td>INST_DIR = the directory
      containing the /lib and /include directories for Gordon
      Kindlmann's Nrrd (Nearly Raw Raster Data) distribution.  This
      optional flag is only valid if the Nrrd pacakge has been enabled
      (using --enable-package).  If it has, this flag is only
      necessary to specify a location other than the default
      SCIRun_Thirdparty directory.  The Nrrd package contains modules
      for converting between SCIRun Fields and Nrrds, for reading and
      writing Nrrds, and wrappers for invoking Nrrd raster processing
      algorithms.
      </td></tr>
      </table>
    </p>

<br><br><br><br><p class="subhead"><a name="Make">Running GNU make</a></p>
    <p class="firstpara">
      To run GNU make, simply type:
    </p>

    <pre class="example"><font color=blue>make</font></pre>

    <p class="firstpara">
      or
    </p>

    <pre class="example"><font color=blue>gmake</font></pre>
      
    <p class="firstpara">
      Depending on how the command for GNU make is spelled on the target
      install machine.
    </p>

    <p class="firstpara">
      Just like configure, GNU make has some useful options.  The most commonly
      used option for building SCIRun is the "number of jobs" option:
    </p>

    <pre class="example"><font color=blue>gmake -j <b><i><font color=green>NUM_JOBS</font></i></b></font></pre>

    <p class="firstpara">
      Where <b><i><font color=green>NUM_JOBS</font></i></b> is an integer.
      If the target install machine has multiple processors, setting
      <b><i><font color=green>NUM_JOBS</font></i></b> to the number of
      processors available will use all the processors to build SCIRun in
      parallel, often significantly speeding up the time to build SCIRun.
    </p>

    <p class="firstpara">
      additional options for GNU make can be found <a href=http://www.gnu.org/manual/make/html_mono/make.html#SEC92>here</a>.

<br><br><br><hr>
    <pre class="example">

























































































    </pre>
</body>



