<?xml version='1.0' encoding='us-ascii' ?>
<!DOCTYPE spec SYSTEM "spec.dtd">

<spec>

  <info>
    <name>ErrorMetric</name>
    <!-- hook for the menu item that launches this module -->
    <creation>ErrorMetric</creation>
    <description>
      <summary>ErrorMetric calculates the error between two vectors.</summary>
      <info-builder>
	<!-- one or more paragraphs -->
	<para> ErrorMetric calculates and plots three measures
	of the difference in two vectors: rms, cc and inverse cc. The rms is a generalized root
	mean square error given by the p-norm of the absolute value of the difference between the vectors for 
	some user-specified integer p. The correlation coefficeint is given by the absolute value of the cosine 
	of the angle between the two vectors and measures the similarity of the vectors in direction, without 
	taking size into account. The correlation coefficient ranges from zero to one, where vectors with a 
	correlation coefficient of zero are not correlated at all and vectors with a correlation coefficient of 
	one are the same with regard to direction.  The inverse correlation coefficient also measures the similarity
	of vectors without taking size into account and ranges from zero to one. Vectors that are the same 
	except for size have an inverse correlation coefficient of zero and vectors that are not correlated at 
	all have an inverse correlation coefficient of one. 
	coefficient    
	 </para>
      </info-builder>
      <info-developer>
	<!-- one or more paragraphs -->
	<para>ErrorMetric consists of a constructor which creates the 
	input and output ports, a destructor, and an execute method. The execute method deos
	not take any argumetns but instead obtains two vectors (which are stored as column matrices)
	from the input port created in
	the constructor. After checking that the vectors have the same number of elements, execute() iterates
	through the elements to compute the p-norm of the difference between the vectors (rms), the product of 
	the 2-norms of the vectors (ccDenom), and the dot-product of the vectors (ccNum). From this information
	it calculates the correlation coefficient which is given by the 
	cosine of the angle between the vectors using the formula cos(A)=(a, b)/(||a||*||b||),
	where (a, b) is the dot-product of vectors a and b, and A is the angle between them. It also calcultes the 
	relative root mean square error (rmsRel) by diving the root mean square error by the magnitude of the 
	first vector. 
		
	</para>
	<!-- zero or more images -->
	<img></img>
      </info-developer>
    </description>
    <author>
      <!-- one or more names, last name on list assumed to be maintainer -->
      <name>
	David Weinstein
	Steve Parker</name>
    </author>
    <version>Version/revision number 1.8 (not currently supported)</version>
    <IO>
      <ports>
	<in>
	  <port>ColumnMatrixIPort</port>
          <!-- one or more datatype fields (list all valid) -->
	  <datatype>ColumnMatrix</datatype>
	  <!-- zero or one usage field -->
	  <usage>
	    <para>There are two ports of type ColumnMatirxIPort. Each port reads in one of the 
		vectors which ErrorMetric calculates the difference between.</para>
	  </usage>
	</in>
	<out>
	  <port>ColumnMatrixOPort</port>
	  <!-- one or more datatype fields (list all valid) -->
	  <datatype>Exact datatype name</datatype>
	  <!-- zero or one usage field -->
	  <usage>
	    <para>Depending upon what the user specifies, ColumnMatrixOPort send either the
		correlation coefficient, inverse correlation coefficient, rms error,
		or relative rms error, encoded as a one-row ColumnMatrix, downstream.</para>
	  </usage>
	</out>
      </ports>
      <modules>
        <typin>
	  <!-- one or more name fields (list all valid) -->
          <name>Name a typical upstream Module (or "file" for Readers)</name>
        </typin>
        <typout>
	  <!-- one or more name fields (list all valid) -->
          <name>Name a typical downstream Module (or "file" for Writers)</name>
        </typout>
      </modules>
      <!-- pointer to example network map -->
      <example>A .sr file that shows the intended use in ./doc</example>
    </IO>
    <also>
      <!-- one or more ref fields (list all valid) -->
      <ref>No reference fields yet</ref>
      <link>http://www.cool.info.about.this.module.org</link>
    </also>
    <!-- optional field -->
    <caution>
      <!-- optional field -->
      <knownbugs>
	<!-- one or more bugNum fields (list all valid) -->
	<bugNum>Bugzilla bug number</bugNum>
      </knownbugs>
      <!-- optional field -->
      <platformIssues>
	<!-- one or more issue fields (list all valid) -->
	<issue>No known platform issues</issue>
      </platformIssues>
    </caution>
    <!-- optional field -->
    <enhancements>
      <!-- one or more paragraphs -->
      <para>list future work or possible extensions to the module</para>
    </enhancements>
  </info>  

  <gui>
    <!-- one parameter field for each widget in the dialog -->
    <parameter>
      <label>Identify it by the label it has onscreen</label>
      <guidance>
	<!-- one or more paragraphs -->
	<para>Use the left mouse button to check the box of the type of error to be 
	calculated and sent downstream.  The rms and inverse
	 correlation coefficient are 
	plotted as a funciton of the number of iterations. 
	The values of the vector's elements are alos plotted"</para>
      </guidance>
      <gui-developer>
	<widgets>Identify it by widget type.</widgets>
	<use>Indicate how the code uses the parameter's value</use>
      </gui-developer>
    </parameter>
    <img>./doc/ErrorMetricGUI.gif</img>
  </gui>
                         
  <testing>
    <plan>
      <procedure>
	<!-- one or more paragraphs -->
	<para>This module has no known special testing needs.</para>
      </procedure>
      <steps>
	<!-- add as many steps as needed. -->
        <step>There is no test plan.</step>
      </steps>
    </plan>
  </testing>
</spec>



