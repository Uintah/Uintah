<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
<meta name="generator" content="Adobe GoLive 4">
<title>Putting Simulation and Visualization Together</title>
</head>

<body bgcolor="#a9a9a9">
<table align="center" border="0" cellpadding="0" cellspacing="0" width="306" bgcolor="#cccccc">
<tr>
<td><img height="92" width="600" src="images/sub-banner.jpg" border="0"
    usemap="#sub-banner8662a0c4"><map name="sub-banner8662a0c4"><area
    coords="581,65,598,84" shape="rect" title nohref><area
    href="chapter_7.html" coords="557,64,575,83" shape="rect"
    title="Feedback"><area href="chapter_6.html" coords="532,64,550,82"
    shape="rect" title="Putting Simulation and Visualization
    Together"><area href="chapter_5.html" coords="508,64,527,83"
    shape="rect" title="Bioelectric Field Simulation"><area
    href="chapter_4.html" coords="483,64,502,83" shape="rect"
    title="Multi-Vis"><area href="chapter_3.html" coords="460,64,478,83"
    shape="rect" title="Derived Fields"><area href="chapter_2.html"
    coords="436,64,454,83" shape="rect" title="Looking at the Data"><area
    href="chapter_1.html" coords="412,64,430,81" shape="rect"
    title="Geometry Visualization"><area href="Intro.html"
    coords="354,64,406,84" shape="rect" title="Introduction"><area
    href="../../index.html"
    coords="205,63,343,83" shape="rect" title="Documentation"><area
    href="http://software.sci.utah.edu/" coords="103,63,195,82"
    shape="rect" title="Software"><area href="index.html"
    coords="1,65,92,81" shape="rect" title="Tutorial Home"></map></td> 
</tr> 

<tr>
<td>
<center>
<table border="0" cellpadding="0" cellspacing="5" width="600">
	<tr>
	<td>
	<center>
	<br><A name="section-3"></A>
	<font size="4"
	face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular"
	color="maroon">
	<b>Chapter 6: Putting Simulation and Visualization
	    Together</b></font> </p> 
        <p>&nbsp; </p>
        </center>
        <div align="left">
	<p><b><H4><A href="#section-1">ManageFieldData</H4></b></A>
	<p><b><H4><A href="#section-2">Combining simulation and
	    visualization</H4></b></A> 
        <p><b>Chapter Overview</b><br>

        <p>Chapters 1-4, demonstrate the construction of a set of visualization
	networks to explore scalar and vector fields. In the previous chapter, 
	A network to solve a bioelectric finite element problem was implemented.  
	The output of that network was a solution vector, <img height="16"
	    width="13" 
	src="images/phi.gif">, containing the potential at each of the
	nodes in the finite element mesh.

	<p>This chapter will reuse the finite element simulation network from <a
	    href="chapter_5.html">Chapter 5</a>,  
	as well as the visualization network from  <a
	    href="chapter_4.html">Chapter 4</a>.  The 
	only missing piece is a module that connects the solution
	vector of scalar values to the nodes of the tetrahedral finite
	element mesh.  The ManageFieldData module accomplishes this task,
	as described in the sections that follow.

     <p><b><A name="section-1">ManageFieldData</b><br></A>

     <p>The ManageFieldData module performs two simultaneous operations.  First, the module splits the input Field into its mesh part and data values. These data values are then passed through the output matrix port.  Second, the module combines the mesh part with the matrix input, creating a new Field output.</p> 
        
<p>There are a few rules for the behavior of the module that
increase its versatility and its complexity:
       
        <p><ul><li>If the module has no input matrix, then the output Field will be
            the same as the input Field.</p>
        <p><li>If the input Field's data are scalar, then the output matrix
            will be a column matrix.</p>
        <p><li>If the input Field's data contains N vectors, then the output
	    matrix will be of dimension Nx3.</p>
        <p><li>If the Field contains N tensors, the output matrix will be of
            dimension Nx9 where the
             tensor is flattened out in left-to-right, top-to-bottom, order.</p>
         <p><li>The number of rows in the input matrix should equal the number
            of data values in the input Field.</p>
        <p><li> The output Field's type is the same as the input Field's
         type.  For instance, if the input Field is a vector Field, the
         output Field will also be a vector Field (and the input matrix
         must be Nx3 where N is equal to the number of
         data values in the input Field).</p>
        </ul>

        <p><b><A name="section-2">Combining simulation and
	visualization</b><br></A> 

	<p>Use the File/Insert option to combine the finite element simulation net from <a
	href="chapter_5.html#figure-5.2"> Chapter 5, Figure 5.2,</a>  
	with the visualization net from <a
	href="chapter_4.html#figure-4.1">Chapter 4, Figure 4.1.</a> 
	   Add a ManageFieldData module between them, and you
	should have a net that looks like that in <b>Figure 6.1</b>.  Note that all of the modules from the Chapter 4 net, that were connected to the left FieldReader module, are now connected to the ManageFieldData module. 

      </div>
	<center>
	<p><img height="513" width="500" src="images/figures/6_1.gif"><br>
	<b>Figure 6.1, Chapter 6 network</b></p>
	</center>
	<div align="left">
	</p>

	<p> Executing the network, the image in the
	ViewWindow should look like <b>Figure 6.2</b>.</p>

      </div>
	<center>
	<p><img height="451" width="450" src="images/figures/6_2.gif"><br>
	<b>Figure 6.2, showing net with ManageFieldData module</b></p>
	</center>
	<div align="left">
	<p><br>
	<p><H4><b>Summary</H4></b>
	<p>This chapter demonstrated how to combine two existing
	networks , reusing the finite element simulation network from
	Chapter 5, and the visualization network from Chapter 4. The
	ManageFieldData module was used to connect the solution vector
	of scalar values to the nodes of the tetrahedral finite
	element mesh .

	<p>Chapter 7 illustrates how to add a feedback module and
	interactively visualize the results.
	<p>	
	<br>
	<br><A href="#section-3">Return to Top</A>
        </div>
	</td>
	</tr>
</table>
</center>
</td>
</tr>
<tr>
<td><img height="35" width="600" src="images/sub-banner-bottom.jpg" border="0" usemap="#sub-banner-bottom8ac83191"><map name="sub-banner-bottom8ac83191"><area href="chapter_7.html" coords="565,2,589,20" shape="rect"><area href="chapter_5.html" coords="535,2,561,22" shape="rect"><area href="http://www.sci.utah.edu" coords="6,6,69,32" shape="rect" title="SCI Institute"></map></td>
</tr>
</table>
</body>
</html>
