<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
<meta name="generator" content="Adobe GoLive 4">
<title>Looking at the Data</title>
<!-- Changed by: Ted Dustman, 20-Feb-2002 -->
</head>

<body bgcolor="#a9a9a9">
<table align="center" border="0" cellpadding="0" cellspacing="0" width="306" bgcolor="#cccccc">
<tr>
<td><img height="92" width="600" src="images/sub-banner.jpg" border="0"
    usemap="#sub-banner8662a0c4"><map name="sub-banner8662a0c4"><area
    coords="581,65,598,84" shape="rect" title nohref><area
    href="chapter_7.html" coords="557,64,575,83" shape="rect"
    title="Feedback"><area href="chapter_6.html" coords="532,64,550,82"
    shape="rect" title="Putting Simulation and Visualization
    Together"><area href="chapter_5.html" coords="508,64,527,83"
    shape="rect" title="Bioelectric Field Simulation"><area
    href="chapter_4.html" coords="483,64,502,83" shape="rect"
    title="Multi-Vis"><area href="chapter_3.html" coords="460,64,478,83"
    shape="rect" title="Derived Fields"><area href="chapter_2.html"
    coords="436,64,454,83" shape="rect" title="Looking at the Data"><area
    href="chapter_1.html" coords="412,64,430,81" shape="rect"
    title="Geometry Visualization"><area href="Intro.html"
    coords="354,64,406,84" shape="rect" title="Introduction"><area
    href="http://software.sci.utah.edu/doc/index.html"
    coords="205,63,343,83" shape="rect" title="Documentation"><area
    href="http://software.sci.utah.edu/" coords="103,63,195,82"
    shape="rect" title="Software"><area href="index.html"
    coords="1,65,92,81" shape="rect" title="Tutorial Home"></map></td> 
</tr>

<tr>
<td>
<center>
<table border="0" cellpadding="0" cellspacing="5" width="600">
  <tr>
    <td>
	<center>
	<br>
	<font size="4"
	face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular"
	color="maroon">
	<b>Chapter 2: Looking at the Data</b></font> </p>
	<p>&nbsp; </p>
	</center>
	<div align="left">
	<p><b><H4><A href="#section 1">Color maps</H4></b></A>
	<p><b><H4><A href="#section 2">Module user interfaces</H4></b></A>
	
	<p><b>Chapter Overview</b><br>

	<p>In Chapter 1, we constructed a small network to visualize
	the geometry of a mesh.  In this chapter we will extend that
	net, adding tools to look at data values on the geometry.
	Specifically, we will visualize a scalar quantity (voltage) on
	a set of points in space (a PointCloud of electrodes).
	
	<p>From our previous net, we hooked three modules
	together--FieldReader, ShowField, and Viewer--as shown in
	<a href="chapter_1.html#figure-1.1">Figure 1.1.</a>  On the user
	interface of the ShowField module, we 
	used the Default Color selector to make all of the geometry
	render blue.  

	<p>In this chapter, rather than mapping a single
	color to all of the geometry, we vary the colors over the
	geometry based on the scalar values in the Field.  For a more
	complete description of how Fields map data values to
	geometry, see the User's Guide [link to UG ?].
	
	<p><b><A name="section 1">Color maps</b><br></A>

	<p>We want to map the data values at each node of the mesh to a
	meaningful color.   
	The ColorMap class in SCIRun provides this mapping.  
	
	<p>A ColorMap contains a set of evenly spaced colors
	(RGBA) mapped to a data value range which in turn is specified by a
	minimum and a maximum data value. Several example color maps are
	shown in <b>Figure 2.1</b>. 
	
	</div>
	<center>
	<p><img height="200" width="450" src="images/figures/2_1.jpg"><br>
	<b>Figure 2.1</b></p>
	</center>
	<div align="left">
	<p><br>
	
	<p>The GenStandardColorMaps module generates color maps in
	SCIRun. This module contains a selection of default color maps.
	For each of the color maps, the user controls the opacity
	(also known as alpha) for each data value, then chooses the
        number of discrete entries in the color map table.</p>

        <p>The minimum/maximum range of the ColorMap determines what
        values in the data are assigned what colors.  By default the
        minimum/maximum range is from 0 to 1.  

        <P>Using the RescaleColorMap module, you can set the min/max values by
        hand, or you can &quot;auto-scale&quot; them to correspond with
        the min/max data value range from a scalar Field.
                  
        <p>Now we can add a GenStandardColorMaps and a RescaleColorMap
         module to our net from <a href="chapter_1.html#chapter1">Chapter
         1</a>.  Both of 
          these modules are 
        located under the SCIRun/Visualization menu.  
	<ol>
	  <li>Connect the output from GenStandardColorMaps to the input of
	      RescaleColorMap.
	  <li> Connect the output from the FieldReader to
	      the other input port of RescaleColorMap.  
	  <li>Finally, connect the output from RescaleColorMap to the input
	      of ShowField.  
	</ol>
	<p>Your network should now look like <b>Figure 2.2.</b>

	</div>
	<center>
	<p><img height="416" width="300" src="images/figures/2_2.gif"><br>
	<b>Figure 2.2</b></p>
	</center>
	<div align="left">
	<p><br>

	<p>Note, that after connecting the FieldReader and RescaleColorMap, 
	the ResaleColorMap module added another input Field port.
	If the user connects more than one Field into RescaleColorMap,
	the min/max range for auto-scaling corresponds to the
	min/max range of data values from all of the input Fields.<br>

	<p>The second input port on the ShowField module accepts a
        ColorMap.  If we connect this port when ShowField executes,
        it maps the data values in its input Field to a color in the
        input ColorMap, and renders accordingly.  If a ColorMap is
        present in ShowField the, the module ignores the default
        color, and uses ColorMap value.<br>
                  
        <p>To complete this net we must read in a Field.  
	<ol>
	<li> <A NAME=electrodes>
	    Use the FieldReader User Interface (UI) to read in
        utahtorso-lowres-electrodes.pcd.fld (a point cloud of
        electrode positions, with voltages measured from a single
        instant in time).  
	<li value="2.">You should see an image like <b>Figure 2.3</b> in
	  the Viewer window. 
	</ol>
	</div>
	<center>
	<p><img height="451" width="450" src="images/figures/2_3.gif"><br>
	<b>Figure 2.3</b></p>
	</center>
	<div align="left">
	<p><br>
                  
        <p><b><A name="section 2">Module user interfaces</b><br></A>

        <p>Now we will explore the User Interfaces for these two
        modules.  Opening the UI for GenStandardColorMaps, you will
        see a window, <b>Figure 2.4.</b>.

	</div>
	<center>
	<p><img height="369" width="300" src="images/figures/2_4.jpg"><br>
	<b>Figure 2.4</b></p>
	</center>
	<div align="left">
	<p><br>

        <p><ul>
	  <li>On the left, we have a list of standard maps from which
	      to choose. 
	  <li>At the top, we see the selected color map, and
	      have a clickable interface for changing the opacity of each
	      color swatch in the map.  
	  <li>Under the rendered color map, we have
	      two more interface features: a gamma value for non-linear
	      compression or expansion of the otherwise-linear color ramp,
	      and;
	  <li>Under that, a Resolution slider for setting the number of
	      distinct colors that will be stored in the color table.  
	  <li>By choosing a low resolution, we can generate
	      &quot;banded&quot; visualizations; 
	  <li>By choosing a higher resolution, we can
	      generate smoother color transitions.
	</ul>                 
        <p><b>Figure 2.5</b> shows the UI to the ResaleColorMap module.

	</div>
	<center>
	<p><img height="114" width="398" src="images/figures/2_5.gif"><br>
	<b>Figure 2.5</b></p>
	</center>
	<div align="left">
	<p><br>

	<p>You can choose whether to set the minimum/maximum range of the
        ColorMap manually or automatically.  As mentioned above, if
        the range is auto-scaled, it will correspond to the minimum
        and maximum data values from all of the input Fields connected to
	the module. 
                  
        <p>In GenStandardColorMaps, by changing 
	the ColorMap from Inverse Rainbow to Inverse Darkhue, we change the
	image in the 
        Viewer window from <b>Figure 2.3</b> to <b>Figure 2.6.</b>

        <p>Changing the ColorMap range to a manual setting of -30 to 30,
        we can &quot;clamp&quot; the range of colors as in <b>Figure 2.7.</b>

	</div>
	<center>
	<p><img height="451" width="450" src="images/figures/2_6.gif"><br>
	<b>Figure 2.6</b></p>
	</center>
	<div align="left">
	<p><br>
	</div>
	<center>
	<p><img height="451" width="450" src="images/figures/2_7.gif"><br>
	<b>Figure 2.7</b></p>
	</center>
	<div align="left">
	<p><br>

        

	<H4><b>Summary</b></H4>
	<p>In this chapter, we have added tools for looking at data values 
	and for varying colors over the geometry, rather than mapping a
	single color.<br> 

	<p>The next chapter features more visualization techniques,and
	explores how  
	to input and output a Field. 
	<br>
	<br>
        </div>
	</td>
	</tr>
</table>
</center>
</td>
</tr>
<tr>
<td><img height="35" width="600" src="images/sub-banner-bottom.jpg"
    border="0" usemap="#sub-banner-bottom8ac200bf"><map
    name="sub-banner-bottom8ac200bf"><area href="chapter_3.html"
    coords="564,3,588,18" shape="rect"><area href="chapter_1.html"
    coords="539,1,560,22" shape="rect"><area href="http://www.sci.utah.edu"
    coords="6,6,68,30" shape="rect" title="SCI Institute"></map></td> 
</tr>
</table>
</body>
</html>
