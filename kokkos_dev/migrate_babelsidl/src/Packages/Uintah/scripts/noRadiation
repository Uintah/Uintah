#!/bin/csh
#______________________________________________________________________
#  This scripts removes all the radiation fortran code from the compilation 
#  and should be used in conjuction with useFakeArches.sh.
#
#  All code between the keywords "containsFortran" in the files
#  listed below will be deleted.
#  You can remove all of the fortran from the compilation by executing 
#
#  make noFortran.

unalias cp rm

if ($#argv != 1) then
  echo " This script removes the radiation model from the compilation
  echo " usage:"
  echo "   noRadiation  <absolute path to SCIRun/src directory>"
  exit(0)
endif

set pathToModels = "$argv/Packages/Uintah/CCA/Components/Models"
echo "Removing radiation model from the compilation"

#__________________________________
# remove Radiation model
set these = ("$pathToModels/sub.mk" "$pathToModels/ModelFactory.cc")

foreach fff ( $these[*]:q )
  echo "Modifying:      " $fff
  cp $fff $fff.backup
  # delete the lines containing containFortran and containFortran
  sed  /"containsFortran"/,/"containsFortran"/d<$fff.backup >$fff
  rm $fff.backup
end

echo "Done removing radiation model"

exit
