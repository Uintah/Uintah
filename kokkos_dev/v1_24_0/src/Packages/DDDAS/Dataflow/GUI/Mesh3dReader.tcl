itcl_class DDDAS_DataIO_Mesh3dReader {
    inherit Module
    constructor {config} {
        set name Mesh3dReader
        set_defaults
    }

    method set_defaults {} {
	global $this-filetype
    }

    method ui {} {
	global env
        set w .ui[modname]
        if {[winfo exists $w]} {
            raise $w
            return
        }
        toplevel $w -class TkFDialog
	set initdir ""

	# place to put preferred data directory
	# it's used if $this-filename is empty
	
	if {[info exists env(SCIRUN_DATA)]} {
	    set initdir $env(SCIRUN_DATA)
	} elseif {[info exists env(SCI_DATA)]} {
	    set initdir $env(SCI_DATA)
	} elseif {[info exists env(PSE_DATA)]} {
	    set initdir $env(PSE_DATA)
	}

	#######################################################
	# to be modified for particular reader

	# extansion to append if no extension supplied by user
	set defext ".mesh3d"
	set title "Open Mesh3d file"
	
	# file types to appers in filter box
	set types {
	    {{Mesh3d File}     {.mesh3d}      }
	    {{All Files} {.*}   }
	}
	
	######################################################

	makeOpenFilebox \
		-parent $w \
		-filevar $this-filename \
		-command "$this-c needexecute; wm withdraw $w" \
		-cancel "wm withdraw $w" \
		-title $title \
		-filetypes $types \
		-initialdir $initdir \
		-defaultextension $defext

	moveToCursor $w	

        label $w.row1 -text "This GUI was auto-generated by the Component Wizard."
        label $w.row2 -text {edit the file "SCIRun/src/Packages/DDDAS/Dataflow/GUI/Mesh3dReader.tcl" to modify it.}
        pack $w.row1 $w.row2 -side top -padx 10 -pady 10
    }
}


