% -*-latex-*-
%
%  The contents of this file are subject to the University of Utah Public
%  License (the "License"); you may not use this file except in compliance
%  with the License.
%
%  Software distributed under the License is distributed on an "AS IS"
%  basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
%  License for the specific language governing rights and limitations under
%  the License.
%
%  The Original Source Code is SCIRun, released March 12, 2001.
%
%  The Original Source Code was developed by the University of Utah.
%  Portions created by UNIVERSITY are Copyright (C) 2001, 1994
%  University of Utah. All Rights Reserved.
%

\documentclass[11pt]{article}
\usepackage[]{fancyhdr}
%\begin{latexonly}
\usepackage[]{../Utilities/TeX/scirun-doc}
%\end{latexonly}
\usepackage[]{graphicx}
\usepackage[]{html}
\begin{htmlonly}
  \include{../Utilities/TeX/scirun-doc.tex}
\end{htmlonly}
\newcommand{\latexenv}[1]{\texttt{#1}}
\newcommand{\texutils}{doc/Utilities/TeX}
\begin{document}

\begin{htmlonly}
\include{../Utilities/TeX/banner_top.tex}
\end{htmlonly}

% The title page
\title{\LaTeX{} Module Descriptions (Explicated)}
\author{Ted Dustman}
\maketitle 
\newpage
\tableofcontents
\newpage


\section{Quick Start}

\begin{enumerate}
\item Create a directory for your module description in the cvs tree.  If your
  description is part of the \sr{} package then create a directory for it
  in \directory{src/Dataflow/TeX}.  If your description is part of another
  package then create a directory for it in
  \directory{src/Packages/\ab{package}/Dataflow/TeX} where \ab{package} is
  the name of the appropriate package.  This directory should be named
  after the module it describes.
\item Copy the template file,
  \filename{doc/Documentum/module-desc-template.tex}, to the directory you
  just created.  Name this file after its parent directory and with an
  extension of \filename{.tex}.  This file is now your module description
  document.
\item Put your document's figures in the directory created above.  Provide
  figures either in JPG or GIF formats.
\item Look at the file \filename{\texutils{}/scirun-doc.sty}
   and observe the markup
  commands recommended for use in your module description file.
\item Flesh out your document by following the instructions in your
  module description document (the copy of the template).
\item Notify the doc group of your new module description
  (scirun-doc@sci.utah.edu)
\item Refer to following sections for additional information.
\end{enumerate}


\section{Document Name and Location}

Your document will live in the \directory{src} side of the CVS tree.  If it
describes a module in the \sr{} package then it will live in a
sub-directory of the directory \directory{src/Dataflow/TeX}.  If it
describes a module in another package then it will live in a sub-directory
of the directory \directory{src/Packages/\ab{package}/Dataflow/Tex} where
\ab{package} is the name of the appropriate package.

Your document's file should be named after the name of the module it
describes and with an extension of \filename{.tex}.  Your document's
directory \emph{must} have the same name as the document itself sans the
\filename{.tex} extension. 

Your tex document must consist of 1 file only.

Place figures in your document's directory (not a sub-directory).

\section{Using Markup}

Don't use \LaTeX{} sectioning commands!  You are restricted to the
following sectioning commands: \latexcommand{ModuleRef},
\latexcommand{ModuleRefSummary}, \latexcommand{ModuleRefUse},
\latexcommand{ModuleRefDetails}, \latexcommand{ModuleRefNotes},
\latexcommand{ModuleRefCredits}, and \latexcommand{ModuleRefSubSection},
\latexcommand{ModuleRefSubSubSection}.  The latter two commands may be used
to add sub-sections and sub-sub-sections to the top-level sections of your
module description document.  

Markup your document using \LaTeX{} commands and commands in the file
\filename{\texutils{}/scirun-doc.sty}. 

Avoid presentation style markup commands like \latexcommand{bf} (or even
\latexcommand{emph}).  Most other \LaTeX{} commands are fine.

You may invent your own markup commands as long as they are not
presentation oriented and do not conflict with commands in
\filename{\texutils{}/scirun-doc.sty}.

\section{Organization}

The \LaTeX{} version of a module description document consists 6 parts: The
\latexcommand{ModuleRef} command, and the Summary, Use, Details, Notes, and
Credits sections.  The purpose of each section is described below.

\begin{description}
\item[The \latexcommand{ModuleRef} Command]\mbox{}

  The \latexcommand{ModuleRef} command is the first command in the
  module description file.  Its purpose is to specify the module's
  name, and the category and package to which the module belongs.  It
  looks like this:

\begin{verbatim}
\ModuleRef{\Module{module-name}}{\Category{category-name}}
    {\Package{package-name}}
\end{verbatim}
  
  Simply substitute appropriate values for ``module-name'',
  ``category-name'', and ``package-name'' above.

\item[Summary]
  \label{sec:summary} \mbox{}

  The Summary section is a brief summary of the module's purpose.  It
  should be no more than one paragraph.

  The \latexcommand{ModuleRefSummary} command starts the Summary section:

\begin{verbatim}
\ModuleRefSummary

My module performs x, y, and z.     
\end{verbatim}

\item[Use] \label{sec:use} \mbox{}
  
  The Use section describe's your module's use.  It should describe your
  module's upstream and downstream connections and the use of your module's
  \gui{}.  Include at least 1 image (in either \acronym{JPG} or
  \acronym{GIF} formats) of your module's graphical user
  interface.  See \secref{Including Images}{sec:inclimg} for details on
  including images.
  
  Relate control of your module via its \gui{} to its theoretical
  under-pinnings (and perhaps other details) described in your
  Details section.
  
  You may want to walk the user through an example, say a small
  complete network which uses your module.

  The \latexcommand{ModuleRefUse} command starts the Use section:
  
\begin{verbatim}
\ModuleRefUse

My module is so intuitive it needs no documentation.
\end{verbatim}

\item[Details] \mbox{}
  \label{sec:details}
  
  The \latexcommand{ModuleRefDetails} command starts the Details section.

  Details not directly associated with the module's use belong in
  the Details section.
  
  Describe your module's algorithms, mathematical under-pinnings, or
  perhaps even implementation details if appropriate.
  
  Relate the theory to the control of the module via its \gui{}
  described in your Use section.

\begin{verbatim}
\ModuleRefDetails

Details, details, to heck with the details!
\end{verbatim}

\item[Notes]\mbox{}
  \label{sec:notes}
  
  Special installation instructions (special configure options
  perhaps), bugs, limitations, and possible future work should be
  described in the Notes section.

  The \latexcommand{ModuleRefNotes} command starts the Notes section:

\begin{verbatim}
\ModuleRefNotes

Don't tell anyone, but this module just adds noise to its input.
\end{verbatim}

\item[Credits]\mbox{}
  \label{sec:credits}
  
  The \latexcommand{ModuleRefCredits} command starts the Credits section:

\begin{verbatim}
\ModuleRefCredits

Me!
\end{verbatim}
\end{description}

See also the Quick Start instructions above and the notes in
\\ \filename{doc/Documentum/module-desc-template.tex}.

\section{Including Images}
\label{sec:inclimg}

The \secname{Use}{sec:use} section of your document must include at
least 1 image of your module's graphical user interface. Create your
images in either \acronym{JPEG} or \acronym{GIF} formats.  Note that
you needn't and shouldn't provide EPS versions of your figures.  These
will be generated automatically as needed.

Including images is a two step process.  You must first create an
\dfn{image command} for each image.   Then you must use each
image command at the approiate place in the text.


\subsection{Creating an Image Command}
\label{sec:crimgcmd}

Create an image command for each image using the template below.  Copy the
following template (make a copy of the template for each image).  Then
replace angle-bracketed text with appropriate values.  Here is the template:

%begin{latexonly}
\begin{verbatim}
%begin{latexonly}
  \newcommand{\<image-command-name>}%
  {\centerline{\includegraphics[<options>]
               {\ModuleRefFigName{<figure-name>.eps}}}}
%end{latexonly}
\begin{htmlonly}
  \newcommand{\<image-command-name>}{%
    \htmladdimg[<options>]{\ModuleRefFigName{<figure-name.jpg-or-gif>}}}
\end{htmlonly}
\end{verbatim}
%end{latexonly}

\begin{rawhtml}
  <PRE>
  &#37begin{latexonly}
  \newcommand{\&lt;image-command-name&gt;}
  {\centerline{\includegraphics[&lt;options&gt;]
               {\ModuleRefFigName{&lt;<figure-name>.eps&gt;}}}}
  &#37end{latexonly}
  &#92begin{htmlonly}
  \newcommand{\&lt;image-command-name&gt;}
  &nbsp&nbsp   {\htmladdimg[&lt;options&gt;]
                {\ModuleRefFigName{&lt;<figure-name.jpg-or-gif>&gt;}}}
  &#92end{htmlonly}
  </PRE>
\end{rawhtml}


In the ``latexonly'' part, ``options'' is a list of key-value pair options.
Typically the options specify graphic width or height, scale, and bounding
box.  See \etitle{The Latex Graphics Companion} for more information.  Note
that we are using the \latexcommand{includegraphics} command from the
\latexpackage{graphicx} package (also note that you should not delete the 2
comment characters before the \verb|\%begin{latexonly}| and
\verb|\%end{latexonly}|). 

In the ``htmlonly'' part ``options'' is a comma separated of list options
such as ``align'', ``width'', ``height'', and ``alt''.  See \etitle{The
  Latex Web Companion} for details.

Note that the use of the \latexcommand{ModuleRefFigName} command above is
required.

Here is a typical example:
%
%begin{latexonly}
\begin{verbatim}
%begin{latexonly}
  \newcommand{\testfig}{\centerline{\includegraphics[scale=.75]
                        {\ModuleRefFigName{testfig.eps}}}}
%end{latexonly}
\begin{htmlonly}
  \newcommand{\testfig}{\htmladdimg[align=top,alt="Test Figure"]
              {\ModuleRefFigName{testfig.jpg}}}
\end{htmlonly}
\end{verbatim}
%end{latexonly}


\begin{rawhtml}
  <PRE>
  &#37begin{latexonly}
  \newcommand{\testfig}{\centerline{\includegraphics[scale=.75]
              {\ModuleRefFigName{testfig.eps}}}}
  &#37end{latexonly}
  &#92begin{htmlonly}
  \newcommand{\testfig}{\htmladdimg[align=top,alt="Test Figure"]{\ModuleRefFigName{testfig.jpg}}}
  &#92end{htmlonly}
  </PRE>
\end{rawhtml}


\subsection{Using an Image Command}
\label{sec:useimgcmd}

Use image commands by enclosing each image
command within a \latexenv{figure} environment as follows:

%begin{latexonly}
\begin{verbatim}
\begin{figure}
  \begin{makeimage}
  \end{makeimage}
  \<image-command-name>
  \caption{\label{fig:<figure label>} Caption-text}
\end{figure}
\end{verbatim}
%end{latexonly}

\begin{rawhtml}
  <PRE>
  \begin{figure}
    &#92begin{makeimage}
    &#92end{makeimage}
    \&lt;image-command-name&gt;
    \caption{\label{fig:figure-label} Caption-text}
  \end{figure}
  </PRE>
\end{rawhtml}


and replace labels and names appropriately.  For example:

%begin{latexonly}
\begin{verbatim}
\begin{figure}
  \begin{makeimage}
  \end{makeimage}
  \testfig
  \caption{\label{fig:testfig} This is a test figure.}
\end{figure}
\end{verbatim}
%end{latexonly}

\begin{rawhtml}
  <PRE>
  \begin{figure}
    &#92begin{makeimage}
    &#92end{makeimage}
    \testfig
    \caption{\label{fig:testfig} This is a test figure.}
  \end{figure}
  </PRE>
\end{rawhtml}

\section{Using \LaTeX{} Packages}

You may use the \latexcommand{usepackage} command only if the package it is
including is part of the standard \LaTeX{} distribution.  

You may use commands from packages \latexpackage{graphicx} and
\latexpackage{html} without having to first include them with the
\latexcommand{usepackage} command.

\section{Creating Citations}

Cite references to other publications with the \latexcommand{cite} command.

You should provide a ``bib'' file containing bibliographic entries
referenced in your document.


\begin{htmlonly}
\include{../Utilities/TeX/banner_bottom.tex}
\end{htmlonly}

\end{document}
