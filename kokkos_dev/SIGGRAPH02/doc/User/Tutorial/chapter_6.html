<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
<meta name="generator" content="Adobe GoLive 4">
<title>Putting Simulation and Visualization Together</title>
<!-- Changed by: Ted Dustman, 25-Feb-2002 -->
<!-- Last update: Fri Mar  1 01:37:07 2002 by Rob MacLeod
    -  last round before first release -->
</head>

<body bgcolor="#a9a9a9">
<table align="center" border="0" cellpadding="0" cellspacing="0" width="306" bgcolor="#cccccc">
<tr>
<td><img height="92" width="600" src="images/sub-banner.jpg" border="0"
    usemap="#sub-banner8662a0c4"><map name="sub-banner8662a0c4"><area
    coords="581,65,598,84" shape="rect" title nohref><area
    href="chapter_7.html" coords="557,64,575,83" shape="rect"
    title="Feedback"><area href="chapter_6.html" coords="532,64,550,82"
    shape="rect" title="Putting Simulation and Visualization
    Together"><area href="chapter_5.html" coords="508,64,527,83"
    shape="rect" title="Bioelectric Field Simulation"><area
    href="chapter_4.html" coords="483,64,502,83" shape="rect"
    title="Multi-Vis"><area href="chapter_3.html" coords="460,64,478,83"
    shape="rect" title="Derived Fields"><area href="chapter_2.html"
    coords="436,64,454,83" shape="rect" title="Looking at the Data"><area
    href="chapter_1.html" coords="412,64,430,81" shape="rect"
    title="Geometry Visualization"><area href="Intro.html"
    coords="354,64,406,84" shape="rect" title="Introduction"><area
    href="http://software.sci.utah.edu/doc/index.html"
    coords="205,63,343,83" shape="rect" title="Documentation"><area
    href="http://software.sci.utah.edu/" coords="103,63,195,82"
    shape="rect" title="Software"><area href="index.html"
    coords="1,65,92,81" shape="rect" title="Tutorial Home"></map></td> 
</tr> 

<tr>
<td>
<center>
<table border="0" cellpadding="0" cellspacing="5" width="600">
	<tr>
	<td>
	<center>
	<br><A name="section-3"></A>
	<font size="4"
	face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular"
	color="maroon">
	<b>Chapter 6: Putting Simulation and Visualization
	    Together</b></font> </p> 
        <p>&nbsp; </p>
        </center>
        <div align="left">
	<p><b><H4><A href="#section-1">ManageFieldData</H4></b></A>
	<p><b><H4><A href="#section-2">Combining simulation and
	    visualization</H4></b></A> 
        <p><b>Chapter Overview</b><br>

        <p>In Chapters 1-4, we constructed a set of visualization
	networks to explore scalar and vector Fields. In the previous chapter, 
	we implemented a network to solve a bioelectric finite element problem.  
	The output of that network was a solution vector, <img height="16"
	    width="13" 
	src="images/phi.gif">, containing the potential at each of the
	nodes in the finite element mesh.

	<p>In this chapter, we will put these two pieces together.  We
	will reuse the finite element simulation network from <a
	    href="chapter_5.html">Chapter 5</a>,  
	as well as the visualization network from  <a
	    href="chapter_4.html">Chapter 4</a>.  The 
	only missing piece is a module that can connect the solution
	vector of scalar values to the nodes of the tetrahedral finite
	element mesh.  The module ManageFieldData accomplishes this task,
	as described below.

     <p><b><A name="section-1">ManageFieldData</b><br></A>

     <p>The ManageFieldData module splits its Field input and
             then combines it with its Matrix input and creates a new Field
	    and Matrix output: 
        <ul>
        <li>First the module splits its input Field into a mesh part and a
	    data part. 
        <li>Then the module combines this mesh part with the Matrix input
	     to form a new Field, which goes to the Field output port. 
        <li>Finally, the data part of the original Field is converted to
            a Matrix and sent to the Matrix output port.
        </ul>
	There are a few rules to the behavior of the module that further
	increase its versatility (and, unfortunately, its complexity):
        <ul>
        <li>If there is no input Matrix then the output Field will be
            the same as the input Field.
        <li>If the input Field's data are scalar then the output Matrix
            will be a column matrix.
        <li>If the input Field's data contains N vectors, then the output
	    matrix will be of dimension Nx3.
        <li>If the field contains N tensors the output matrix will be of
            dimension Nx9 where the
             tensor is flattened out in left-to-right, top-to-bottom order.
         <li>The number of rows in the input Matrix should equal the number
            of data values in the input Field.
        <LI> The output Field's type is the same as the input Field's
         type.  For instance, if the input field is a vector field, the
         output Field will also be a vector field (and the input matrix
         must be Nx3 where N is equal to the number of
         data values in the input field).
        </ul>

        <p><b><A name="section-2">Combining simulation and
	visualization</b><br></A> 

	<p>Combining the finite element simulation net from <a
	href="chapter_5.html#figure-5.2"> Chapter 5, (Figure 5.2).</a>  
	with the visualization net from <a
	href="chapter_4.html#figure-4.1">Chapter 4, (Figure 4.1),</a> 
	and adding a ManageFieldData module between them, you
	should have a net that looks like that in <b>Figure 6.1</b>. 

      </div>
	<center>
	<p><img height="598" width="500" src="images/figures/6_1.gif"><br>
	<b>Figure 6.1</b></p>
	</center>
	<div align="left">
	<p>

	<p> Executing the network, you should have an image in your
	ViewWindow that 
	looks like <b>Figure 6.2</b>. </P>

      </div>
	<center>
	<p><img height="451" width="450" src="images/figures/6_2.gif"><br>
	<b>Figure 6.2</b></p>
	</center>
	<div align="left">
	<p><br>
	<p><H4><b>Summary</H4></b>
	<p>In this chapter, we have combined two pieces, reusing the finite element simulation network from Chapter 5, 
	as well as the visualization network from Chapter 4. We have used a module that connects the solution vector 
	of scalar values to the nodes of the tetrahedral finite element mesh, via the module ManageFieldData.

	<p>In Chapter 7, we will add a feedback module and interactively visualize the results. 
	<p>	
	<br>
	<br><A href="#section-3">Back to Top</A>
        </div>
	</td>
	</tr>
</table>
</center>
</td>
</tr>
<tr>
<td><img height="35" width="600" src="images/sub-banner-bottom.jpg" border="0" usemap="#sub-banner-bottom8ac83191"><map name="sub-banner-bottom8ac83191"><area href="chapter_7.html" coords="565,2,589,20" shape="rect"><area href="chapter_5.html" coords="535,2,561,22" shape="rect"><area href="http://www.sci.utah.edu" coords="6,6,69,32" shape="rect" title="SCI Institute"></map></td>
</tr>
</table>
</body>
</html>
