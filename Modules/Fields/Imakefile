
#include <config/sci.cf>

#ifdef SCI_MACHINE_Linux
TEMPLATE_OBJS = templates.o
TEMPLATE_SRCS = templates.cc
#endif

#if defined(SCI_MACHINE_Solaris)
XLIBDIR = -L/usr/openwin/lib
XINCLUDE = -I/usr/openwin/include
#endif

#if defined(SCI_MACHINE_Linux)
XLIBDIR = -L/usr/X11R6/lib
#endif

#ifdef SCI_OPENGL
OPENGLOBJS = OpenGL_Ex.o  TrainSegment.o  TrainSeg2.o
OPENGLSRCS = OpenGL_Ex.cc TrainSegment.cc TrainSeg2.cc

#ifdef SCI_MESA
OPENGLINCS = -I$(TOP)/Mesa/include $(XINCLUDE)
OPENGLLIBS = -L$(TOP)/Mesa/lib -lMesaGLU -lMesaGL $(XLIBDIR) -lXext -lX11
#else
OPENGLINCS = $(XINCLUDE)
OPENGLLIBS = $(XLIBDIR) -lGLU -lGL -lXext -lX11
#endif
#else
OPENGLOBJS =
OPENGLSRCS = 
#endif

OBJS = ClipField.o  ExtractSurfs.o  FieldFilter.o  FieldMedianFilter.o  \
	FieldGainCorrect.o  FieldSeed.o \
	GenSigmaSet.o  Gradient.o  GradientMagnitude.o  MMeshToSFUG.o  \
	MergeTensor.o  SFRGfile.o  SFUGtoGeom.o  TracePath.o  \
	TransformField.o  $(OPENGLOBJS) \
	$(TEMPLATE_OBJS)

SRCS = ClipField.cc ExtractSurfs.cc FieldFilter.cc FieldMedianFilter.cc \
	FieldGainCorrect.cc FieldSeed.cc \
	GenSigmaSet.cc Gradient.cc GradientMagnitude.cc MMeshToSFUG.cc \
	MergeTensor.cc SFRGfile.cc SFUGtoGeom.cc TracePath.cc \
	TransformField.cc $(OPENGLSRCS) \
	$(TEMPLATE_SRCS)

LIBNAME = Fields

LOCALINCLUDES = $(OPENGLINCS)
SO_LIBS =

SO_LDFLAGS = -L$(TOP)/lib -L/usr/openwin/lib -lDatatypes -lDataflow \
	-lGeom -lTCL -lClasslib -lMultitask -lTester $(OPENGLLIBS) \
	-lscitk -ltk -lMalloc -lWidgets -lGeometry \
	-lm SCI_CCLibs

SCIDependTarget($(SRCS))
SCIObjLibraryTarget($(LIBNAME),$(OBJS),$(SO_LIBS),$(SO_LDFLAGS))

