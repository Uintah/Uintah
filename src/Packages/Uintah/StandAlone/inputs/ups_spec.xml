
<!--
   UPS_SPEC:
     This specification defines the valid tags, their attributes, and
     their values.  

   DTD/XML Schema:

     This file is similar to a DTD or an XML Schema, however we didn't
     use either of these approaches for the following reasons: DTD's
     do not (easily) allow you to have optional Tags and Tags that may
     appear in any order.  They also don't do (minimal) validation of
     the type of data in each tag.  XML Schema may actually allow for
     some or all of this type of validation, however, we don't have an
     XML library capable of using XML Schema (as libxml2 (the lib we
     use) doesn't (yet?) support it.  We could have tried using
     another XML library (off-line), such as Xerces, but we wanted the
     validation to take place as the code begins to execute.

   Format of this specification:

     A tag specification must look like this:

     <name spec="..." 
           attribute#="..."
           children#="..."
           need_applies_to=""
     >

     need_applies_to="<var>..." => An optional parameter.  If present, the tag refers to a parent
                             attribute <var>.  This tag allows for specifying how children are to
                             be required (see Values, below).
       * var must be the 'name' of a previously defined attribute for the tag's parent.
       * If a 'need_applies_to' is used, then the parent's attribute must be REQUIRED!
       * Values:
         - ALL => This child tag is required for all versions of the parent tag.  This
                     is the default 
         - list of values => The child tag is required only for the given versions of the parent's attribute.
         

     Only 'spec' is required for a tag.

     name => the name of a given tag (eg: cylinder, Time, etc)

     spec => "need  type  [validValues]"

       * need: OPTIONAL, REQUIRED, MULTIPLE   (Probably need MULTIPLE-REQ and MULTIPLE-OPT.
                                             Currently MULTIPLE means 0 or more...)
       * type: DOUBLE, INTEGER, STRING, VECTOR, MULTIPLE_INTEGERS, MULTIPLE_DOUBLES,
               MULTIPLE_VECTORS, NO_DATA (NO_DATA means the tag doesn't have any
                                          data (text) but can have attributes and/or
                                          sub-tags.)
         - MULTIPLE_INTEGERS:  [ #... ]
         - VECTOR:             [ #, #, # ]

       * validValues: an optional _single_ string (see below for how it is parsed) that contains valid values
                      or the value of the tag.  The specification of valid values depends on the
                      type of the tag:
  
         - STRING: a comma separated lists of strings which enumerate
                   explicitly which values the string can take on. If 
                   valid values for a string are not provided, then
                   all strings will be accepted.
         - INTEGER/DOUBLE: "positive" = a positive value, "num, num" =
                   min, max values.  If not specified, then any
                   integer/double will be accepted.
               
         - VECTOR: not quite sure how to specify valid values for a
                   vector yet...

                   children => how to handle child tags of this tag.

     attribute#="name _spec_" => attributes for a tag.  The '#' should be replaced with 1, 2, 3... etc,
                   (the numbers must be unique.)  The _spec_ is as above.  (eg: attribute1="label OPTIONAL STRING")

     children# => how to handle child tags of this tag.  The '#' should be replaced with 1, 2, 3... etc,
                   (the numbers must be unique.) 

       * ONE_OF(option1, option2, ...) - specifies that only one of the specified child tags is allowed.
       * [NOT IMPLEMENTED YET] ALL_OR_NONE_OF( option1, option2, ... ) - must have either all of the options, or none.

-->

<Uintah_specification> 

  <!--===========================================================-->
  <!-- Begin Common Block -->
  <CommonTags>
    <!-- 
       Tags in this <CommonTags> block are used more than once in the
       Uintah_specification.  In the Uintah_specification, they
       should just be referenced as <tag/>.  Optionally, if the 
       OPTIONAL/REQUIRED spec has changed, they can be referred to as
       <tag spec="NEW_VALUE">.  [Note, do NOT use <CommonTags> for
       any other tag name.]
    -->

    <box                      spec="OPTIONAL NO_DATA"
                                attribute1="label OPTIONAL STRING" >
      <min                    spec="OPTIONAL VECTOR" />
      <max                    spec="OPTIONAL VECTOR" />
    </box>

    <cone                     spec="OPTIONAL NO_DATA"
                                attribute1="label    OPTIONAL STRING" >
      <bottom                 spec="REQUIRED VECTOR" />
      <bottom_radius          spec="REQUIRED DOUBLE" />
      <top                    spec="REQUIRED VECTOR" />
      <top_radius             spec="REQUIRED DOUBLE" />
    </cone>

    <cylinder                 spec="OPTIONAL NO_DATA"
                                attribute1="label    OPTIONAL STRING" >
      <bottom                 spec="REQUIRED VECTOR" />
      <top                    spec="REQUIRED VECTOR" />
      <radius                 spec="REQUIRED DOUBLE 'positive'" />
    </cylinder>

    <sphere                   spec="OPTIONAL NO_DATA"
                                attribute1="label    OPTIONAL STRING" >
      <origin                 spec="REQUIRED VECTOR" />
      <radius                 spec="REQUIRED DOUBLE 'positive'" />
    </sphere>

    <tri                      spec="OPTIONAL NO_DATA"
                                attribute1="label    OPTIONAL STRING" >
      <name                   spec="REQUIRED STRING" />
    </tri>

    <difference               spec="FORWARD_DECLARATION" />
    <union                    spec="FORWARD_DECLARATION" />
    <intersection             spec="FORWARD_DECLARATION" />

    <union                    spec="OPTIONAL NO_DATA"
                                attribute1="label    OPTIONAL STRING" >
      <box                    spec="MULTIPLE" />
      <cone                   spec="MULTIPLE" />
      <cylinder               spec="MULTIPLE" />
      <sphere                 spec="MULTIPLE" />
      <difference             spec="MULTIPLE" />
      <intersection           spec="MULTIPLE" />
      <union                  spec="MULTIPLE" />
    </union>

    <!-- FIXME: only can have 2 children, right? how to specify? -->
    <difference               spec="OPTIONAL NO_DATA" 
                                attribute1="label OPTIONAL STRING" >
      <box                    spec="MULTIPLE" />
      <cylinder               spec="MULTIPLE" />
      <sphere/>
      <tri/>
      <difference/>
      <union                  spec="MULTIPLE" />
    </difference>

    <intersection             spec="OPTIONAL NO_DATA"
                                attribute1="label OPTIONAL STRING" >
      <box                    spec="MULTIPLE" />
      <cylinder               spec="MULTIPLE" />
      <union                  spec="MULTIPLE" />
    </intersection>

    <geom_object              spec="REQUIRED NO_DATA" >
      <box                    spec="MULTIPLE" />
      <cone                   spec="MULTIPLE" />
      <cylinder/>
      <sphere/>
      <tri/>

      <res                    spec="OPTIONAL VECTOR" /> <!-- FIXME: ?? These are only  optional in some cases... -->
      <velocity               spec="OPTIONAL VECTOR" /> <!--           eg, ARCHES doesn't use them... -->
      <temperature            spec="OPTIONAL DOUBLE" />
      <color                  spec="OPTIONAL DOUBLE" />
      <density                spec="OPTIONAL DOUBLE" />
      <pressure               spec="OPTIONAL DOUBLE" />

      <difference />
      <intersection />
      <union />

      <null                   spec="OPTIONAL NO_DATA" /> <!-- FIXME: What is this? -->

      <corrugated                      spec="OPTIONAL NO_DATA" >   <!-- FIXME: is this really optional?  Default? -->
        <xymin                         spec="REQUIRED VECTOR" /> 
        <xymax                         spec="REQUIRED VECTOR" /> 
        <thickness                     spec="REQUIRED DOUBLE" /> 
        <normal                        spec="REQUIRED VECTOR" /> 
        <corr_edge                     spec="REQUIRED STRING 'y+, y-'" />
        <curve                         spec="REQUIRED STRING 'sin'" />
        <wavelength                    spec="REQUIRED DOUBLE" /> 
        <amplitude                     spec="REQUIRED DOUBLE" /> 
      </corrugated>

      <coeff                     spec="OPTIONAL VECTOR"/>
      <cubicInitialize           spec="OPTIONAL BOOLEAN"/>
      <exponentialInitialize_1D  spec="OPTIONAL BOOLEAN"/>
      <freq                      spec="OPTIONAL VECTOR"/>
      <linearInitialize          spec="OPTIONAL BOOLEAN"/>
      <scalar                    spec="OPTIONAL DOUBLE"/>
      <sinusoidalInitialize      spec="OPTIONAL BOOLEAN"/>
      <slope                     spec="OPTIONAL VECTOR"/>
      <triangularInitialize      spec="OPTIONAL BOOLEAN"/>
     
    </geom_object>

  </CommonTags>
  <!-- End Common Block -->
  <!--===========================================================-->

  <Meta                   spec="OPTIONAL NO_DATA">
    <title                spec="OPTIONAL STRING" />
  </Meta>

  <Unit                   spec="OPTIONAL NO_DATA"
                            attribute1="name REQUIRED STRING 'KG^2'" />  <!-- FIXME: is this a good idea?  If so, how to specify?  Make required! -->

  <Time                   spec="REQUIRED NO_DATA">
    <maxTime              spec="REQUIRED DOUBLE  'positive'" />
    <max_Timesteps        spec="OPTIONAL INTEGER 'positive'" />
    <end_on_max_time_exactly spec="OPTIONAL BOOLEAN" />
    <initTime             spec="REQUIRED DOUBLE  'positive'" />
    <delt_min             spec="REQUIRED DOUBLE  'positive'" />
    <delt_max             spec="REQUIRED DOUBLE  'positive'" />
    <delt_init            spec="OPTIONAL DOUBLE  'positive'" />
    <max_delt_increase    spec="OPTIONAL DOUBLE  'positive'" />
    <max_initial_delt     spec="OPTIONAL DOUBLE  'positive'" />
    <timestep_multiplier  spec="REQUIRED DOUBLE  'positive'" />
  </Time>

  <SimulationComponent          spec="REQUIRED NO_DATA"
                                  attribute1="type REQUIRED STRING 'arches, ice, impm, mpm, mpmarches, mpmf, mpmice,
                                                                    poisson1, poisson2, rigidmpmice, switcher, '" >
                                  <!-- The 'type' above is used in CCA/Components/Parent/ComponentFactory.cc -->
    <carry_over                 spec="MULTIPLE NO_DATA"
                                  attribute1="var   REQUIRED STRING"
                                  attribute2="matls OPTIONAL INTEGER"
                                  attribute3="level OPTIONAL STRING 'finest'" />
    <subcomponent               spec="MULTIPLE NO_DATA"
                                  attribute1="type REQUIRED STRING 'arches, ice, impm, mpm, mpmarches, mpmf, mpmice,
                                                                    poisson1, poisson2, rigidmpmice, switcher'" >
                                  <!-- The 'type' above is used in CCA/Components/Parent/ComponentFactory.cc -->
      <input_file               spec="REQUIRED STRING" />
      <SwitchCriteria           spec="OPTIONAL NO_DATA" 
                                  attribute1="type REQUIRED STRING 'steadyBurn, Timestep'" >
        <timestep               spec="REQUIRED INTEGER" need_applies_to="type Timestep"   />
        <reactant_material      spec="REQUIRED INTEGER" need_applies_to="type steadyBurn" />
        <BoundaryParticles      spec="REQUIRED INTEGER" need_applies_to="type steadyBurn" />
        <ThresholdTemperature   spec="REQUIRED INTEGER" need_applies_to="type steadyBurn" />
      </SwitchCriteria>
      <init                     spec="MULTIPLE NO_DATA" 
                                  attribute1="var    REQUIRED STRING"
                                  attribute2="matls  REQUIRED STRING"
                                  attribute3="levels OPTIONAL INTEGER" /> <!-- FIXME: Is this optional?  What is the default? -->
    </subcomponent>
  </SimulationComponent>

  <doAMR                spec="OPTIONAL BOOLEAN" />  <!-- defaults to TRUE -->

  <!-- NOTE: while the DataArchiver section is required, if no 'save' tags are specified,
             then no data will be saved (and no .uda dir will be created). -->
  <DataArchiver         spec="REQUIRED NO_DATA"
                                   children1="ONE_OF(outputInterval, outputTimestepInterval)" >
      <!-- FIXME: if interval is optional, what does it default to? -->
      <!-- Checkpoint: interval         - How often (in simulation time) to save a checkpoint.
                       cycle            - How many check points to keep around before one is overwritten (to save disk space).
                       walltimeStart    - Start check pointing after time much real time has elapsed (since beginning the simulation).
                       walltimeInterval - How much real time must pass before the next check point is written.
      -->
      <checkpoint             spec="OPTIONAL NO_DATA"
                                children1="ONE_OF(interval, walltimeInterval, timestepInterval)"
                                children2="ALL_OR_NONE_OF(walltimeStart, walltimeInterval)"
                                attribute1="interval         OPTIONAL DOUBLE  'positive'"
                                attribute2="cycle            REQUIRED INTEGER 'positive'"
                                attribute3="timestepInterval OPTIONAL INTEGER 'positive'"
                                attribute4="walltimeStart    OPTIONAL DOUBLE  'positive'"
                                attribute5="walltimeInterval OPTIONAL DOUBLE  'positive'" />
      <compression            spec="OPTIONAL STRING 'gzip'" />
      <filebase               spec="REQUIRED STRING" />
      <outputInterval         spec="OPTIONAL DOUBLE 'positive'" /> <!-- FIXME: only one of these should be allowed... -->
      <outputInitTimestep     spec="OPTIONAL NO_DATA" />
      <outputTimestepInterval spec="OPTIONAL INTEGER 'positive'" />

     <!-- HACK: until we know what to do about checking the label names-->
      <save                   spec="MULTIPLE NO_DATA"
                                attribute1="label        REQUIRED STRING"
                                attribute2="levels       OPTIONAL STRING"
                                attribute3="material     OPTIONAL STRING" 
                                attribute4="table_lookup OPTIONAL BOOLEAN" /> <!-- FIXME: are these really STRINGs? and what are the valid values? -->
<!--
                            'press_equil_CC, vol_frac_CC, sp_vol_CC, uvel_FC, vvel_FC, wvel_FC, uvel_FCME, vvel_FCME,
                             wvel_FCME, delP_Dilatate, delP_MassX, press_CC, mass_L_CC, mom_source_CC, mom_L_ME_CC, vel_CC, rho_CC, rhs, 
                             scalar-f, speedSound_CC, temp_CC,
                             KineticEnergy, TotalIntEng, TotalMass, StrainEnergy, CenterOfMassPosition,
                             CenterOfMassVelocity, p.x, p.volume, p.stress, g.mass, g.stressFS'" />
-->
      <save_crack_geometry    spec="OPTIONAL BOOLEAN" /> <!-- FIXME: default? -->
      <outputDoubleAsFloat    spec="OPTIONAL NO_DATA" />
  </DataArchiver>

  <Debug                      spec="OPTIONAL NO_DATA" >
    <dbg_timeStart            spec="REQUIRED DOUBLE" />
    <dbg_timeStop             spec="REQUIRED DOUBLE" />
    <dbg_outputInterval       spec="REQUIRED DOUBLE" />
    <dbg_BeginIndex           spec="REQUIRED STRING" /> <!-- FIXME: HOW TO HANDLE VALUES LIKE: [[0,0,0]] -->
    <dbg_EndIndex             spec="REQUIRED STRING" /> <!-- FIXME: HOW TO HANDLE VALUES LIKE: [[0,0,0]] -->
    <dbg_Matls                spec="REQUIRED MULTIPLE_INTEGERS" />
    <dbg_SigFigs              spec="OPTIONAL INTEGER '1, 20'" />
    <dbg_Level                spec="OPTIONAL INTEGER '1, 20'" />
    <dbg_SymmetryPlanes       spec="OPTIONAL INTEGER '1, 3'" />
    <dbg_Sym_absolute_tol     spec="OPTIONAL DOUBLE  'positive'" />
    <dbg_Sym_relative_tol     spec="OPTIONAL DOUBLE  'positive'" />
    <dbg_Sym_cutoff_value     spec="OPTIONAL DOUBLE  'positive'" />
    
    <debug                    spec="MULTIPLE NO_DATA"
                                attribute1="label REQUIRED STRING 'switchTestConservation_abc,
                                                                   switchDebug_Initialize,
                                                                   switchDebug_equil_press,
                                                                   switchDebug_PressDiffRF,
                                                                   switchDebug_vel_FC,
                                                                   switchDebug_Temp_FC,
                                                                   switchDebug_Exchange_FC,
                                                                   switchDebug_explicit_press,
                                                                   switchDebug_setupMatrix,
                                                                   switchDebug_setupRHS,
                                                                   switchDebug_updatePressure,
                                                                   switchDebug_computeDelP,
                                                                   switchDebug_PressFC,
                                                                   switchDebug_LagrangianValues,
                                                                   switchDebug_LagrangianSpecificVol,
                                                                   switchDebug_LagrangianTransportedVars,
                                                                   switchDebug_MomentumExchange_CC,
                                                                   switchDebug_Source_Sink,
                                                                   switchDebug_advance_advect,
                                                                   switchDebug_conserved_primitive,
                                                                   switchDebug_AMR_refine,
                                                                   switchDebug_AMR_refineInterface,
                                                                   switchDebug_AMR_coarsen,
                                                                   switchDebug_AMR_reflux,
                                                                   switchDebug_InterpolateNCToCC_0,
                                                                   switchDebug_InterpolateCCToNC,
                                                                   switchDebug_InterpolatePAndGradP'" />
  </Debug>

  <InitialConditions        spec="OPTIONAL NO_DATA">
    <MPM                    spec="OPTIONAL NO_DATA" />
    <ARCHES                 spec="OPTIONAL NO_DATA" />
  </InitialConditions>

  <Grid                     spec="REQUIRED NO_DATA">

    <BoundaryConditions     spec="OPTIONAL NO_DATA">
      <LODI                 spec="OPTIONAL NO_DATA">
        <press_infinity     spec="REQUIRED DOUBLE 'positive'" />
        <sigma              spec="REQUIRED DOUBLE '0, 1'"/>
        <ice_material_index spec="REQUIRED INTEGER '0, 6'"/>
      </LODI>    
      <SINE_BC              spec="OPTIONAL NO_DATA">
        <omega              spec="REQUIRED DOUBLE 'positive'"/>
        <A                  spec="REQUIRED DOUBLE 'positive'"/>
      </SINE_BC>
      
      <Face                 spec="MULTIPLE NO_DATA"
                              attribute1="annulus       OPTIONAL STRING 'x-, x+, y-, y+, z-, z+'"
                              attribute2="circle        OPTIONAL STRING 'x-, x+, y-, y+, z-, z+'"
                              attribute3="inner_radius  OPTIONAL DOUBLE 'positive'"
                              attribute4="origin        OPTIONAL MULTIPLE_DOUBLES"
                              attribute5="outer_radius  OPTIONAL DOUBLE 'positive'"
                              attribute6="side          OPTIONAL STRING 'x-, x+, y-, y+, z-, z+'"
                              attribute7="radius        OPTIONAL DOUBLE 'positive'" >
        <BCType             spec="MULTIPLE NO_DATA"
                              attribute1="id        REQUIRED STRING '0,1,2,3,5,6,all'"
                              attribute2="var       REQUIRED STRING 'Neumann, Dirichlet, symmetry, LODI, computeFromDensity, Sine'"
                              attribute3="label     REQUIRED STRING 'cumulativeEnergyReleased, Density, Phi, Pressure, scalar-f,
                                                                 SpecificVol, Symmetric, Temperature, Velocity'" >
          <value            spec="OPTIONAL STRING" /> <!-- ERROR... it is required for some, but not for Dirichlet!!!
                                                         also, type can be different for different labels... how to handle? --> 
        </BCType>
      </Face>
    </BoundaryConditions>

    <Level              spec="MULTIPLE NO_DATA">
      <Box              spec="REQUIRED NO_DATA"
                           attribute1="label     REQUIRED STRING">
        <lower          spec="REQUIRED VECTOR" />
        <upper          spec="REQUIRED VECTOR" />
        <resolution     spec="OPTIONAL VECTOR" />
        <patches        spec="REQUIRED VECTOR" />
        <extraCells     spec="OPTIONAL VECTOR" />  <!-- FIXME: is this optional?  Arches doesn't need it?  or should everyone say 0,0,0? -->
      </Box>
      <spacing          spec="OPTIONAL VECTOR" /> <!-- ????????? -->
      <periodic         spec="OPTIONAL VECTOR 'positive'"/>
    </Level>

  </Grid>

  <PhysicalConstants    spec="OPTIONAL NO_DATA"> <!-- FIXME: REALLY OPTIONAL??? -->
    <gravity            spec="REQUIRED VECTOR" /> <!-- THIS IS OPTIONAL IN ICE AND MPM, DEFAULT IS 0,0,0 -->
    <reference_pressure spec="OPTIONAL DOUBLE" />
    <ideal_gas_constant spec="OPTIONAL DOUBLE" />
    <pressure           spec="OPTIONAL DOUBLE" />
    <viscosity          spec="OPTIONAL DOUBLE" />
  </PhysicalConstants>

  <CFD                                  spec="OPTIONAL NO_DATA" >

    <CanAddICEMaterial                  spec="OPTIONAL BOOLEAN" /> <!-- FIXME: what is the default? -->
    <cfl                                spec="OPTIONAL INTEGER 'positive'" /> <!-- FIX ME: REALLY OPTIONAL??? -->
    <ICE                                spec="OPTIONAL NO_DATA" >
      <add_delP_Dilatate                spec="OPTIONAL BOOLEAN" />
      <advection                        spec="REQUIRED NO_DATA" 
                                          attribute1="type                REQUIRED STRING 'FirstOrder, SecondOrder'" 
                                          attribute2="useCompatibleFluxes OPTIONAL BOOLEAN" />
      <ClampSpecificVolume              spec="OPTIONAL BOOLEAN" /> <!-- Defaults to TRUE.  FIXME: is this correct? -->
      <ImplicitSolver                   spec="OPTIONAL NO_DATA">
        <max_outer_iterations           spec="REQUIRED INTEGER 'positive'"/>
        <outer_iteration_tolerance      spec="REQUIRED DOUBLE 'positive'"/>
        <iters_before_timestep_restart  spec="REQUIRED INTEGER 'positive'"/>
        <Parameters                     spec="OPTIONAL NO_DATA"
                                          attribute1="variable OPTIONAL STRING 'implicitPressure'" >
          <criteria                     spec="OPTIONAL STRING 'Absolute'" />  <!-- FIXME: Is this really optional?  If so, what does it default to? -->
          <jump                         spec="REQUIRED INTEGER" />
          <logging                      spec="OPTIONAL INTEGER 'positive'" />
          <maxiterations                spec="REQUIRED INTEGER" />
          <norm                         spec="OPTIONAL STRING 'LInfinity'" /> <!-- FIXME: Is this really optional?  If so, what does it default to? -->
          <npost                        spec="REQUIRED INTEGER" />
          <npre                         spec="REQUIRED INTEGER" />
          <preconditioner               spec="REQUIRED STRING 'none, pfmg'" />
          <outputEquations              spec="OPTIONAL BOOLEAN" />
          <skip                         spec="REQUIRED INTEGER" />
          <solver                       spec="REQUIRED STRING 'amg, cg'" />   <!-- FIXME: What do these stand for: amg?  cg? -->
          <tolerance                    spec="REQUIRED DOUBLE" />
        </Parameters>
      </ImplicitSolver>
      <max_iteration_equilibration      spec="OPTIONAL INTEGER 'positive'" /> <!-- FIXME: what is default? -->
      <solution                         spec="OPTIONAL NO_DATA"
                                          attribute1="technique REQUIRED STRING 'EqForm'" />
      <TimeStepControl                  spec="OPTIONAL NO_DATA" >
        <Scheme_for_delT_calc           spec="REQUIRED STRING 'aggressive, conservative'" />
        <knob_for_speedSound            spec="REQUIRED DOUBLE '0,1'" />
      </TimeStepControl>
    </ICE>        

    <ARCHES                             spec="OPTIONAL NO_DATA" >
      <grow_dt                          spec="REQUIRED DOUBLE 'positive'" />
      <variable_dt                      spec="REQUIRED BOOLEAN" />
      <nonlinear_solver                 spec="REQUIRED STRING 'explicit,
                                                               picard'" />
      <turbulence_model                 spec="REQUIRED STRING 'compdynamicprocedure,
                                                               smagorinsky'" />
      <transport_mixture_fraction       spec="REQUIRED BOOLEAN" />
      <transport_enthalpy               spec="REQUIRED BOOLEAN" />
      <transport_reacting_scalar        spec="OPTIONAL BOOLEAN" />
      <transport_extra_scalars          spec="OPTIONAL BOOLEAN" /> <!-- IF TRUE, then requires an extra scalar block-->
      <model_mixture_fraction_variance  spec="REQUIRED BOOLEAN" />
      <set_initial_condition            spec="OPTIONAL BOOLEAN" /> <!-- IF TRUE, then requires init_cond_input_file-->
      <init_cond_input_file             spec="OPTIONAL STRING" /> <!-- Should be required if set_intial_condition is true-->
      <turnonMixedModel                 spec="OPTIONAL BOOLEAN" />
      <recompileTaskgraph               spec="OPTIONAL BOOLEAN" />
      <scalarUnderflowCheck             spec="OPTIONAL BOOLEAN" />
      <EKTCorrection                    spec="OPTIONAL BOOLEAN" />
      <doMMS                            spec="OPTIONAL BOOLEAN" /> <!-- IF TRUE, then requires MMS block-->
      <!--Should change requirements on this MMS block if doMMS is
           true...  FIXME: Actually, shouldn't the pressense of an
           <MMS> block implie doMMS, and the absence imply not doing
           MMS?  We could also add doMMS as an attribute to the MMS
           block, and then key required/optional off of that...
      -->
      <MMS                              spec="OPTIONAL NO_DATA"
                                          attribute1="whichMMS REQUIRED STRING 'constantMMS, almgrenMMS'" >
        <mmsErrorType                   spec="REQUIRED STRING 'Linf, L2'" />  <!-- FIXME: is 'L' valid (almgrenMMS.ups)? -->
        <constantMMS                    spec="OPTIONAL NO_DATA" need_applies_to="whichMMS constantMMS" >
          <cu                           spec="REQUIRED DOUBLE" />
          <cv                           spec="REQUIRED DOUBLE" />
          <cw                           spec="REQUIRED DOUBLE" />
          <cp                           spec="REQUIRED DOUBLE" />
          <phi0                         spec="REQUIRED DOUBLE" />
          <esphi0                       spec="REQUIRED DOUBLE" />
        </constantMMS>
        <almgrenMMS                     spec="OPTIONAL NO_DATA" need_applies_to="whichMMS almgrenMMS" >
          <amplitude                    spec="REQUIRED DOUBLE" />
          <viscosity                    spec="REQUIRED DOUBLE" />
        </almgrenMMS>
      </MMS>
      <Turbulence                       spec="REQUIRED NO_DATA" >

        <variance_coefficient           spec="OPTIONAL DOUBLE" />
        <!--smagorinsky -->
        <cf                             spec="OPTIONAL DOUBLE 'positive'" />  
        <fac_mesh                       spec="OPTIONAL DOUBLE 'positive'" />
        <filterl                        spec="OPTIONAL DOUBLE 'positive'" />
        <!--dyn. smagorinsky -->
        <dynamicScalarModel             spec="OPTIONAL BOOLEAN" />
        <filter_variance_limit_scalar   spec="OPTIONAL BOOLEAN" />
        <filter_cs_squared              spec="OPTIONAL BOOLEAN" />
        <!-- going to leave complocal out based on the 'this model is a mess' comment-->
        <turbulentPrandtlNumber         spec="REQUIRED DOUBLE 'positive'" /> <!--currently set to default in code to 0.4-->

        <var_const                      spec="OPTIONAL DOUBLE" /> <!-- FIXME: What is this? Does it have a range? -->
      </Turbulence>
      <Properties                       spec="REQUIRED NO_DATA"
                                          children1="ONE_OF(ColdflowMixingModel, NexStaticMixingTableo, TabPropsTable)" >

        <empirical_soot                 spec="OPTIONAL BOOLEAN" />
        <filter_drhodt   spec="OPTIONAL BOOLEAN" />
        <first_order_drhodt   spec="OPTIONAL BOOLEAN" />
        <inverse_density_average   spec="OPTIONAL BOOLEAN" />
        <mixing_model                   spec="REQUIRED STRING 'coldFlowMixingModel, NewStaticMixingTable, TabPropsTable'" />
        <independent_variable           spec="MULTIPLE NO_DATA" 
                                            attribute1="active OPTIONAL STRING 'yes, true, no, false'"
                                            attribute2="name   REQUIRED STRING"
                                            attribute3="value  OPTIONAL DOUBLE" /> <!-- Default value for "active" is true, default value for "value" is 0; 
                                                                                        You can put as many independent variable tags as you want -->
        <ColdflowMixingModel            spec="OPTIONAL NO_DATA" >
          <Stream                       spec="MULTIPLE NO_DATA" >
            <density                    spec="REQUIRED DOUBLE 'positive'" />
            <temperature                spec="REQUIRED DOUBLE" />
          </Stream>
        </ColdflowMixingModel>

        <NewStaticMixingTable           spec="OPTIONAL NO_DATA" >
          <co_output                    spec="OPTIONAL BOOLEAN" />
          <inputfile                    spec="REQUIRED STRING" />
          <h_fuel                       spec="REQUIRED DOUBLE" />
          <h_air                        spec="REQUIRED DOUBLE" />
          <soot_precursors              spec="OPTIONAL BOOLEAN" />
          <sulfur_chem                  spec="OPTIONAL BOOLEAN" />
          <tabulated_soot               spec="OPTIONAL BOOLEAN" />
        </NewStaticMixingTable>

        <optically_thin_model_opl      spec="OPTIONAL DOUBLE" />

        <TabPropsTable                  spec="OPTIONAL NO_DATA" >
          <table_file_name              spec="REQUIRED STRING" />
          <strict_mode                  spec="OPTIONAL BOOLEAN" />
          <diagnostic_mode              spec="OPTIONAL BOOLEAN" />
        </TabPropsTable>

      </Properties>

      <BoundaryConditions               spec="OPTIONAL NO_DATA" > <!-- FIXME: is this really optional?  constantMMS.ups doesn't use them... -->
        <carbon_balance                 spec="OPTIONAL BOOLEAN" />
        <carbon_balance_es              spec="OPTIONAL BOOLEAN" />
        <sulfur_balance                 spec="OPTIONAL BOOLEAN" />
        <sulfur_balance_es              spec="OPTIONAL BOOLEAN" />
        <FlowInlet                      spec="MULTIPLE NO_DATA" >
          <ramping_inlet_flowrate       spec="OPTIONAL BOOLEAN" />
          <SulfurMassFractionInFuel     spec="OPTIONAL DOUBLE '0,1'" />
          <Flow_rate                    spec="OPTIONAL DOUBLE" />
          <InletVelocity                spec="OPTIONAL DOUBLE" />
          <mixture_fraction             spec="REQUIRED DOUBLE" />
          <Prefill                      spec="OPTIONAL NO_DATA"
                                          attribute1="direction REQUIRED STRING 'X, Y, Z'" >
            <geom_object />
          </Prefill>
          <geom_object />
        </FlowInlet>

        <intrusions                     spec="OPTIONAL NO_DATA" >
          <geom_object />
        </intrusions>

        <PressureBC                     spec="OPTIONAL NO_DATA" >
          <mixture_fraction             spec="REQUIRED DOUBLE 'positive'" />
          <geom_object/>
        </PressureBC>

        <OutletBC                       spec="OPTIONAL NO_DATA" >
          <mixture_fraction             spec="REQUIRED DOUBLE 'positive'" />
          <geom_object/>
        </OutletBC>

        <WallBC                         spec="OPTIONAL NO_DATA" >
          <geom_object/>
        </WallBC>
      </BoundaryConditions>

      <!-- FIXME: What is the different between this and the other PhysicalConstants? -->
      <PhysicalConstants                spec="REQUIRED NO_DATA" >
        <gravity                        spec="REQUIRED VECTOR" />
        <pressure                       spec="OPTIONAL DOUBLE" />
        <ref_point                      spec="REQUIRED VECTOR" />
        <viscosity                      spec="REQUIRED DOUBLE" />
      </PhysicalConstants>

      <ExtraScalars                     spec="OPTIONAL NO_DATA" >
        <scalar                         spec="REQUIRED NO_DATA" >
          <carbon_balance               spec="OPTIONAL BOOLEAN" />
          <clip_value                   spec="OPTIONAL DOUBLE" />
          <name                         spec="REQUIRED STRING" />
          <noisy_clipping               spec="OPTIONAL BOOLEAN" />
          <initial_value                spec="REQUIRED DOUBLE" />
          <convection_scheme            spec="REQUIRED STRING 'central-upwind'" />
          <PrecompTabSrcName            spec="OPTIONAL STRING" />
          <diffusion                    spec="REQUIRED BOOLEAN" />
          <turbulentPrandtlNumber       spec="REQUIRED DOUBLE" />
          <density_weighted             spec="REQUIRED BOOLEAN" />
          <sources                      spec="REQUIRED NO_DATA" >
            <source                     spec="MULTIPLE NO_DATA" >
              <name                     spec="REQUIRED STRING" />
            </source>
          </sources>
          <sulfur_balance               spec="OPTIONAL BOOLEAN" />
          <useforDensity                spec="OPTIONAL BOOLEAN" />
        </scalar>
      </ExtraScalars>

      <ExplicitSolver                   spec="REQUIRED NO_DATA" >
        <do_standalone_RMCRT            spec="OPTIONAL BOOLEAN" />
        <RMCRTRadiationModel            spec="OPTIONAL NO_DATA" >
            <opl                        spec="REQUIRED DOUBLE" />
            <const_num_rays             spec="REQUIRED INTEGER" />
            <rr_threshold               spec="OPTIONAL DOUBLE" /> 
            <property_model             spec="OPTIONAL STRING 'radcoef, patchmean, wsggm, fssk, fsck'" />
            <sampling_scheme            spec="OPTIONAL STRING 'simple_sample, RRSD, RRSDstratified'" /> 
              <RRSDstratified           spec="OPTIONAL NO_DATA" >
                 <x_n                   spec="REQUIRED INTEGER" />
                 <y_n                   spec="REQUIRED INTEGER" />
                 <z_n                   spec="REQUIRED INTEGER" />
                 <theta_n               spec="REQUIRED INTEGER" />
                 <phi_n                 spec="REQUIRED INTEGER" />
              </RRSDstratified>
        </RMCRTRadiationModel>
        <EnthalpySolver                 spec="OPTIONAL NO_DATA" >
          <convection_scheme            spec="REQUIRED STRING 'central-upwind'" />
          <radiation                    spec="REQUIRED BOOLEAN" />
          <radiationCalcFreq            spec="REQUIRED INTEGER" />
          <radCalcForAllRKSteps         spec="REQUIRED BOOLEAN" />
          <radCalcForAllImplicitSteps   spec="OPTIONAL BOOLEAN" />
          <discrete_ordinates           spec="REQUIRED BOOLEAN" />
          <DORadiationModel             spec="OPTIONAL NO_DATA" >
            <opl                        spec="REQUIRED DOUBLE" />
            <ordinates                  spec="OPTIONAL INTEGER" />
            <property_model             spec="OPTIONAL STRING 'radcoef, patchmean, wsggm'" />
            <linear_solver              spec="REQUIRED STRING 'hypre'" />
            <LinearSolver               spec="OPTIONAL NO_DATA" >
              <res_tol                  spec="REQUIRED DOUBLE" />
              <ksptype                  spec="REQUIRED STRING 'gmres'" />
              <pctype                   spec="REQUIRED STRING 'jacobi'" />
              <max_iter                 spec="REQUIRED INTEGER" />
            </LinearSolver>
            <spherical_harmonics        spec="OPTIONAL BOOLEAN" />
          </DORadiationModel>
        </EnthalpySolver>

        <kineticEnergy_fromFC           spec="OPTIONAL BOOLEAN" /> <!-- FIXME: what does this default to? -->
        
        <maxDensityLag                  spec="OPTIONAL DOUBLE" />

        <MixtureFractionSolver          spec="REQUIRED NO_DATA" >
          <convection_scheme            spec="REQUIRED STRING 'central-upwind'" />
        </MixtureFractionSolver>

        <MomentumSolver                 spec="REQUIRED NO_DATA" >
          <pressure_correction          spec="OPTIONAL BOOLEAN" />
          <filter_divergence_constraint spec="OPTIONAL BOOLEAN" />
          <convection_scheme            spec="REQUIRED STRING 'central, upwind'" />
        </MomentumSolver>

        <PressureSolver                 spec="REQUIRED NO_DATA" >
          <do_only_last_projection      spec="OPTIONAL BOOLEAN" />
          <normalize_pressure           spec="OPTIONAL BOOLEAN" />
          <linear_solver                spec="REQUIRED STRING 'hypre, petsc'" />
          <parameters                   spec="REQUIRED NO_DATA" >
            <max_iter                   spec="REQUIRED INTEGER 'positive'" />
            <preconditioner             spec="REQUIRED STRING 'jacobi, pfmg'" />
            <res_tol                    spec="REQUIRED DOUBLE" />
            <solver                     spec="REQUIRED STRING 'cg'" />
          </parameters>
        </PressureSolver>

        <probe_data                     spec="REQUIRED BOOLEAN" />
        <restartOnNegativeDensityGuess  spec="OPTIONAL BOOLEAN" /> <!-- FIXME: what is default? -->
        <timeIntegratorType             spec="REQUIRED STRING 'RK2SSP, FE'" />
        <turbModelCalcForAllRKSteps     spec="OPTIONAL BOOLEAN" />
        <turbModelCalcFreq              spec="OPTIONAL INTEGER" />
      </ExplicitSolver>

      <extraProjection                  spec="OPTIONAL BOOLEAN" />
    </ARCHES>

  </CFD>

  <DataAnalysis                         spec="OPTIONAL NO_DATA" >
    <Module                             spec="REQUIRED NO_DATA"
                                          attribute1="name REQUIRED STRING 'lineExtract'" >
      <material                         spec="REQUIRED INTEGER" />
      <samplingFrequency                spec="REQUIRED DOUBLE" />
      <timeStart                        spec="REQUIRED INTEGER" />
      <timeStop                         spec="REQUIRED INTEGER" />
       
      <Variables                        spec="REQUIRED NO_DATA" >
        <analyze                        spec="MULTIPLE NO_DATA"
                                          attribute1="label REQUIRED STRING" />
      </Variables>

      <lines                            spec="REQUIRED NO_DATA" >
        <line                           spec="REQUIRED NO_DATA" 
                                          attribute1="name REQUIRED STRING 'z_line'" > 
          <startingPt                   spec="REQUIRED VECTOR" />
          <endingPt                     spec="REQUIRED VECTOR" />
        </line>
      </lines>
    </Module>
  </DataAnalysis>

  <AMR                                  spec="OPTIONAL NO_DATA" >
    <doMultiTaskgraphing                spec="OPTIONAL BOOLEAN" />
    <useLockStep                        spec="OPTIONAL BOOLEAN" /> <!-- defaults to FALSE.  FIXME: correct?  Is it optional? -->
    <ICE                                spec="OPTIONAL NO_DATA" >
      <orderOfInterpolation             spec="REQUIRED INTEGER 'positive'" />
      <orderOf_CFI_Interpolation        spec="OPTIONAL INTEGER 'positive'" />
      <do_Refluxing                     spec="REQUIRED BOOLEAN" />
      <Refinement_Criteria_Thresholds   spec="OPTIONAL NO_DATA" > 
        <Variable                       spec="OPTIONAL NO_DATA" 
                                          attribute1="name  REQUIRED STRING"
                                          attribute2="value REQUIRED DOUBLE"
                                          attribute3="matl  REQUIRED STRING" />
      </Refinement_Criteria_Thresholds>
      <ClampSpecificVolume              spec="OPTIONAL BOOLEAN" /> <!-- Defaults to TRUE.  FIXME: is this correct? -->
    </ICE>
    <MPM                                spec="OPTIONAL NO_DATA" >
      <min_grid_level                   spec="REQUIRED INTEGER" />
      <max_grid_level                   spec="REQUIRED INTEGER" />
    </MPM>
    <Regridder                          spec="OPTIONAL NO_DATA"
                                           attribute1="type REQUIRED STRING 'BNR, Hierarchical, Tiled'" >
      <adaptive                         spec="OPTIONAL BOOLEAN" /> <!-- FIXME: optional? does this only apply to one of the types of regridder? -->
      <!--Generic Required Regridder Options --> 
      <max_levels                       spec="REQUIRED INTEGER 'positive'" />
      <cell_refinement_ratio            spec="REQUIRED STRING" />
      <min_boundary_cells               spec="REQUIRED VECTOR" />
      
      <!--Generic Optional Regridder Options --> 
      <amr_overhead_high                spec="OPTIONAL DOUBLE '0,1'" />   
      <amr_overhead_low                 spec="OPTIONAL DOUBLE '0,1'" />   
      <cell_stability_dilation          spec="OPTIONAL VECTOR" />
      <cell_regrid_dilation             spec="OPTIONAL VECTOR" />
      <dynamic_dilation                 spec="OPTIONAL BOOLEAN" />   
      <max_dilation                     spec="OPTIONAL BOOLEAN" />
      <max_timestep_interval            spec="OPTIONAL INTEGER" />   
      <min_timestep_interval            spec="OPTIONAL INTEGER" />   

      <!--Required BNR Regridder & Tiled Regridder Options-->
      <min_patch_size                   spec="REQUIRED STRING" need_applies_to="type BNR Tiled"/>

      <!--       Optional Options-->
      <patch_split_tolerance            spec="OPTIONAL DOUBLE '0,1'" need_applies_to="type BNR" />
      <patch_combine_tolerance          spec="OPTIONAL DOUBLE '0,1'" need_applies_to="type BNR" />
      <patch_ratio_to_target            spec="OPTIONAL DOUBLE '0,1'" need_applies_to="type BNR" />
      <patches_per_level_per_proc       spec="OPTIONAL DOUBLE 'positive'" need_applies_to="type BNR Tiled" />

      <!--Hierarchical Regridder-->
      <!--       Required Options-->
      <lattice_refinement_ratio         spec="REQUIRED STRING" need_applies_to="type Hierarchical" />

      <!--       Optional Options--> <!-- FIXME: debug attribute: remove -> -->
      <dav123                           spec="OPTIONAL STRING" need_applies_to="type Hierarchical" />
    </Regridder>
  </AMR>

  <Scheduler              spec="OPTIONAL NO_DATA">
    <small_messages       spec="OPTIONAL BOOLEAN" />
    <VarTracker           spec="OPTIONAL NO_DATA">
      <start_time         spec="REQUIRED DOUBLE" />
      <end_time           spec="REQUIRED DOUBLE" />
      <start_index        spec="REQUIRED VECTOR" />
      <end_index          spec="REQUIRED VECTOR" />
      <var                spec="MULTIPLE NO_DATA"
                            attribute1="label REQUIRED STRING"
                            attribute2="dw    REQUIRED STRING 'NewDW, OldDW'" />
      <locations          spec="OPTIONAL NO_DATA"
                            attribute1="before_comm OPTIONAL BOOLEAN"
                            attribute2="before_exec OPTIONAL BOOLEAN"
                            attribute3="after_exec  OPTIONAL BOOLEAN" />
    </VarTracker>
  </Scheduler>

  <LoadBalancer            spec="OPTIONAL NO_DATA" 
                             attribute1="type REQUIRED STRING 'DLB'" >
    <cellCost              spec="OPTIONAL DOUBLE 'positive'" /> <!--The weight per cell -->
    <cellFactor            spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
    <doCostProfiling       spec="OPTIONAL BOOLEAN" /> <!-- use cost profiling instead of the cost model-->
    <doSpaceCurve          spec="OPTIONAL BOOLEAN" /> <!-- FIXME: default? -->
    <dynamicAlgorithm      spec="REQUIRED STRING 'particle3, patchFactor, patchFactorParticles, Zoltan'" />
    <gainThreshold         spec="OPTIONAL DOUBLE '0,1'" /> <!-- the percent improvement that a reloadbalance must have over an old load balance to be used-->
    <levelIndependent      spec="OPTIONAL BOOLEAN" /> <!-- FIXME: Is this optional? If so, what is default? -->
    <particleCost          spec="OPTIONAL DOUBLE 'positive'" /> <!-- The weight per particle -->
    <patchCost             spec="OPTIONAL DOUBLE 'positive'" /> <!-- The weight per patch -->
    <profileTimestepWindow spec="OPTIONAL INTEGER 'positive'" /> <!-- the number of timesteps that the profiled weight will take up 99% of the weight -->
    <timestepInterval      spec="REQUIRED INTEGER 'positive'" />
    <outputNthProc         spec="OPTIONAL INTEGER 'positive'"/>
    <zoltanAlgorithm       spec="OPTIONAL STRING 'HSFC RIB RCB'" />
    <zoltanIMBTol          spec="OPTIONAL DOUBLE 'positive'" />

  </LoadBalancer>

  <Multimaterial                                     spec="OPTIONAL NO_DATA" >
    <fluidThermalConductivity                        spec="REQUIRED DOUBLE" />
    <heatExchange                                    spec="REQUIRED BOOLEAN" />
    <turbulentPrandtNo                               spec="REQUIRED DOUBLE" />
    <fluidHeatCapacity                               spec="REQUIRED DOUBLE" />
    <IfCutCell                                       spec="REQUIRED BOOLEAN" />
    <StationarySolid                                 spec="REQUIRED BOOLEAN" />
    <inviscid                                        spec="REQUIRED BOOLEAN" />
    <restart                                         spec="REQUIRED BOOLEAN" />
    <fixedCellType                                   spec="REQUIRED BOOLEAN" />
    <fixedTemp                                       spec="REQUIRED BOOLEAN" />
    <TestCutCells                                    spec="REQUIRED BOOLEAN" />
    <stairstep                                       spec="REQUIRED BOOLEAN" />
  </Multimaterial>

  <MPM                                  spec="OPTIONAL NO_DATA" >
    <accumulate_strain_energy           spec="OPTIONAL BOOLEAN" />
    <artificial_damping_coeff           spec="OPTIONAL DOUBLE 'positive'"/>
    <artificial_viscosity               spec="OPTIONAL BOOLEAN" />
    <artificial_viscosity_coeff1        spec="OPTIONAL DOUBLE" />
    <artificial_viscosity_coeff2        spec="OPTIONAL DOUBLE" />
    <axisymmetric                       spec="OPTIONAL BOOLEAN" />
    <CanAddMPMMaterial                  spec="OPTIONAL BOOLEAN" />
    <calculate_fracture_parameters      spec="OPTIONAL BOOLEAN" />  <!-- FIXME: default is? -->
    <create_new_particles               spec="OPTIONAL BOOLEAN" />  <!-- FIXME: default is? -->
    <dadx                               spec="OPTIONAL DOUBLE" />
    <do_contact_friction_heating        spec="OPTIONAL BOOLEAN" />
    <do_crack_propagation               spec="OPTIONAL BOOLEAN" />
    <do_grid_reset                      spec="OPTIONAL BOOLEAN" />
    <DoExplicitHeatConduction           spec="OPTIONAL BOOLEAN" />
    <DoImplicitHeatConduction           spec="OPTIONAL BOOLEAN" />
    <DoMechanics                        spec="OPTIONAL BOOLEAN" /> <!-- FIXME: What are the defaults for these? -->
    <DoThermalExpansion                 spec="OPTIONAL BOOLEAN" />  <!-- FIXME: default is? -->
    <DoTransientImplicitHeatConduction  spec="OPTIONAL BOOLEAN" /> <!-- FIXME: What are the defaults for these? -->
    <delT_decrease_factor               spec="OPTIONAL DOUBLE" />
    <delT_increase_factor               spec="OPTIONAL DOUBLE" />
    <erosion                            spec="OPTIONAL NO_DATA"
                                          attribute1="algorithm REQUIRED STRING 'none, KeepStress, ZeroStress'" />
    <ForceBC_force_increment_factor     spec="OPTIONAL DOUBLE" />  <!-- FIXME: default is? Default? -->
    <manual_new_material                spec="OPTIONAL BOOLEAN" />  <!-- FIXME: default is? Default? -->
    <num_iters_to_decrease_delT         spec="OPTIONAL INTEGER" />
    <num_iters_to_increase_delT         spec="OPTIONAL INTEGER" />
    <iters_before_timestep_restart      spec="OPTIONAL INTEGER" />
    <boundary_traction_faces            spec="OPTIONAL STRING" />
    <interpolateParticleTempToGridEveryStep spec="OPTIONAL BOOLEAN" />  <!-- FIXME: What is the default? -->
    <time_integrator                    spec="REQUIRED STRING 'explicit, fracture, implicit'" /> <!-- FIXME: is 'fracture' valid? -->
    <interpolator                       spec="OPTIONAL STRING 'linear, gimp, 3rdorderBS, 4thorderBS'" /> <!-- FIXME:  Is this really optional?  If so, what is the default? -->
    <minimum_particle_mass              spec="OPTIONAL DOUBLE 'positive'"/>
    <maximum_particle_velocity          spec="OPTIONAL DOUBLE 'positive'"/>
    <smooth_crack_front                 spec="OPTIONAL BOOLEAN" />  <!-- FIXME: default is? -->
    <temperature_solve                  spec="OPTIONAL BOOLEAN" />  <!-- FIXME: default is? -->
    <testForNegTemps_mpm                spec="OPTIONAL BOOLEAN" />  <!-- FIXME: default is? -->
    <turn_on_adiabatic_heating          spec="OPTIONAL BOOLEAN" />  <!-- FIXME: default is? -->

    <use_load_curves                    spec="OPTIONAL BOOLEAN" />

    <use_volume_integral                spec="OPTIONAL BOOLEAN" /> 

    <UsePrescribedDeformation           spec="OPTIONAL BOOLEAN" /> 
    
    <!-- FIXME:  THE FOLLOW APPLY ONLY TO THE IMPLICIT MPM CODE -->
    <dynamic                            spec="OPTIONAL BOOLEAN" />
    <solver                             spec="OPTIONAL STRING 'petsc, simple'" />
    <convergence_criteria_disp          spec="OPTIONAL DOUBLE 'positive'"/>
    <convergence_criteria_energy        spec="OPTIONAL DOUBLE 'positive'"/>
  </MPM>

  <MaterialProperties                    spec="OPTIONAL NO_DATA">
    <MPM                                 spec="OPTIONAL NO_DATA">
      <contact                           spec="REQUIRED NO_DATA" >
        <direction                       spec="OPTIONAL VECTOR" />
        <mu                              spec="OPTIONAL DOUBLE 'positive'" /> <!-- ONLY USED FOR FRICTION OR APPROACH -->
        <materials                       spec="OPTIONAL MULTIPLE_INTEGERS" />
        <stop_time                       spec="OPTIONAL DOUBLE" /> <!-- FIXME: What does this do? -->
        <type                            spec="REQUIRED STRING 'null, single_velocity, rigid, specified, friction, approach'" />
        <vel_fields                      spec="OPTIONAL MULTIPLE_INTEGERS" />
        <velocity_after_stop             spec="OPTIONAL VECTOR" />
      </contact>
      <material                          spec="MULTIPLE NO_DATA"
                                           attribute1="name OPTIONAL STRING" >
        <burn                            spec="MULTIPLE NO_DATA"
                                           attribute1="type REQUIRED STRING 'null'" />
        <C_p                             spec="OPTIONAL DOUBLE" />  <!-- FIXME: what is this? -->
        
        <!-- HOW TO DEAL WITH THE MANY OPTIONS HERE? -->
        <constitutive_model              spec="REQUIRED NO_DATA"
                                           attribute1="type REQUIRED STRING 'comp_mooney_rivlin, comp_neo_hook, comp_neo_hook_plastic,
                                                                        elastic_plastic, hypo_elastic, hypoelastic_plastic,
                                                                        ideal_gas, membrane, mw_visco_elastic, rigid, shell_CNH,
                                                                        small_strain_plastic, trans_iso_hyper, visco_scram, water, kayenta, cnh_mms'">
          <alpha                         spec="OPTIONAL DOUBLE" />
          <Beta                          spec="OPTIONAL DOUBLE" />
          <bulk_modulus                  spec="OPTIONAL DOUBLE" />
          <C1                            spec="OPTIONAL DOUBLE" />    <!-- FIXME: what is this? -->
          <C2                            spec="OPTIONAL DOUBLE" />    <!-- FIXME: what is this? -->
          <check_max_stress_failure      spec="OPTIONAL BOOLEAN" />
          <check_TEPLA_failure_criterion spec="OPTIONAL BOOLEAN" />
          <Chi                           spec="OPTIONAL DOUBLE" /> <!-- FIXME: What is this? -->
          <coeff_thermal_expansion       spec="OPTIONAL DOUBLE" />
          <CoeffThermalExpansion         spec="OPTIONAL DOUBLE" />
          <compute_specific_heat         spec="OPTIONAL BOOLEAN" />
          <CrackFriction                 spec="OPTIONAL DOUBLE" />
          <CrackParameterA               spec="OPTIONAL DOUBLE" />
          <CrackGrowthRate               spec="OPTIONAL DOUBLE" />
          <CrackMaxGrowthRate            spec="OPTIONAL DOUBLE" />
          <CrackPowerValue               spec="OPTIONAL DOUBLE" />
          <critical_porosity             spec="OPTIONAL DOUBLE" />
          <critical_scalar_damage        spec="OPTIONAL DOUBLE" />
          <critical_stress               spec="OPTIONAL DOUBLE" />
          <damage_cutoff                 spec="OPTIONAL DOUBLE" />
          <damage_model                  spec="OPTIONAL NO_DATA"
                                           attribute1="type REQUIRED STRING 'hancock_mackenzie, johnson_cook'" >
            <Dc                          spec="OPTIONAL DOUBLE" />  <!-- FIXME: what are these for? -->
            <D0                          spec="OPTIONAL DOUBLE" />
            <D1                          spec="OPTIONAL DOUBLE" />  <!-- FIXME: what is tihs?  is it really optional? -->
            <D2                          spec="OPTIONAL DOUBLE" />
            <D3                          spec="OPTIONAL DOUBLE" />
            <D4                          spec="OPTIONAL DOUBLE" />
            <D5                          spec="OPTIONAL DOUBLE" />
          </damage_model>
          <DCp_DTemperature              spec="OPTIONAL DOUBLE" />
          <delH                          spec="OPTIONAL DOUBLE" /> <!-- FIXME: what is this for? -->
          <do_melting                    spec="OPTIONAL BOOLEAN" />
          <dynamic_coeff_friction        spec="OPTIONAL DOUBLE" />
          <e_shear_modulus               spec="OPTIONAL DOUBLE" /> <!-- qwerty need_applies_to='type ALL' --> 
          <EoverR                        spec="OPTIONAL DOUBLE" /> <!-- FIXME: what is this for? -->
          <equation_of_state             spec="OPTIONAL NO_DATA" 
                                           attribute1="type REQUIRED STRING 'default_hyper, default_hypo, mie_gruneisen'" > <!-- FIXME: Is default_hypo valid? is hyper spelled hypre? -->
            <C_0                         spec="OPTIONAL DOUBLE" />    <!-- FIXME: what is this? optional (DefaultHypoEOS.xml)? Default value? -->
            <Gamma_0                     spec="OPTIONAL DOUBLE" />
            <S_alpha                     spec="OPTIONAL DOUBLE" />
          </equation_of_state>
          <evolve_damage                 spec="OPTIONAL BOOLEAN" />
          <evolve_porosity               spec="OPTIONAL BOOLEAN" />
          <frac_nucleation               spec="OPTIONAL DOUBLE" />
          <fracture_toughness_curve      spec="OPTIONAL NO_DATA" >
            <crack_propagation_criterion spec="REQUIRED STRING 'empirical_criterion'" />
            <p                           spec="OPTIONAL DOUBLE" />
            <q                           spec="OPTIONAL DOUBLE" />
            <r                           spec="OPTIONAL DOUBLE" />
            <point                       spec="OPTIONAL NO_DATA" >
              <Vc                        spec="OPTIONAL DOUBLE" />
              <KIc                       spec="OPTIONAL DOUBLE" />
            </point>
          </fracture_toughness_curve>
          <G                             spec="OPTIONAL DOUBLE" />    <!-- FIXME: what is this? -->
          <G1                            spec="OPTIONAL DOUBLE" />    <!-- FIXME: what is this? -->
          <G2                            spec="OPTIONAL DOUBLE" />    <!-- FIXME: what is this? -->
          <G3                            spec="OPTIONAL DOUBLE" />    <!-- FIXME: what is this? -->
          <G4                            spec="OPTIONAL DOUBLE" />    <!-- FIXME: what is this? -->
          <G5                            spec="OPTIONAL DOUBLE" />    <!-- FIXME: what is this? -->
          <Gamma                         spec="OPTIONAL DOUBLE" />    <!-- FIXME: what is this? -->
          <hardening_modulus             spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
          <he_constant_1                 spec="OPTIONAL DOUBLE 'positive'" />
          <he_constant_2                 spec="OPTIONAL DOUBLE 'positive'" />
          <he_PR                         spec="OPTIONAL DOUBLE 'positive'" />
          <InitialCrackRadius            spec="OPTIONAL DOUBLE 'positive'" />
          <initial_material_temperature  spec="OPTIONAL DOUBLE" />
          <initial_mean_porosity         spec="OPTIONAL DOUBLE" />
          <initial_mean_scalar_damage    spec="OPTIONAL DOUBLE" />
          <initial_porosity_distrib      spec="OPTIONAL STRING 'constant, gauss'" />
          <initial_scalar_damage_distrib spec="OPTIONAL STRING 'constant, gauss'" />
          <initial_std_porosity          spec="OPTIONAL DOUBLE" />
          <initial_std_scalar_damage     spec="OPTIONAL DOUBLE" />
          <isothermal                    spec="OPTIONAL BOOLEAN" />
          <K                             spec="OPTIONAL DOUBLE" />
          <meanstrain_nucleation         spec="OPTIONAL DOUBLE" />
          <melting_temp_model            spec="OPTIONAL NO_DATA"
                                           attribute1="type REQUIRED STRING 'constant_Tm, scg_Tm'" >
            <a                           spec="OPTIONAL DOUBLE" />    <!-- FIXME: what is this? -->
            <Gamma_0                     spec="OPTIONAL DOUBLE" />    <!-- FIXME: what is this? -->
            <T_m0                        spec="OPTIONAL DOUBLE" />
          </melting_temp_model>
          <plasticity_model              spec="OPTIONAL NO_DATA"
                                           attribute1="type REQUIRED STRING 'isotropic_hardening, johnson_cook, mts_model,
                                                                             preston_tonks_wallace, steinberg_cochran_guinan,
                                                                             zerilli_armstrong'" >
            <A                           spec="OPTIONAL DOUBLE" />
            <a                           spec="OPTIONAL DOUBLE" />
            <a_0                         spec="OPTIONAL DOUBLE" />
            <a_1                         spec="OPTIONAL DOUBLE" />
            <a_2                         spec="OPTIONAL DOUBLE" />
            <a_3                         spec="OPTIONAL DOUBLE" />
            <alpha                       spec="OPTIONAL DOUBLE" />
            <alpha_0                     spec="OPTIONAL DOUBLE" />
            <alpha_1                     spec="OPTIONAL DOUBLE" />
            <alphap                      spec="OPTIONAL DOUBLE" />
            <B                           spec="OPTIONAL DOUBLE" />
            <B_0                         spec="OPTIONAL DOUBLE" />
            <beta                        spec="OPTIONAL DOUBLE" />
            <beta_0                      spec="OPTIONAL DOUBLE" />
            <beta_1                      spec="OPTIONAL DOUBLE" />
            <Boltzmann_constant          spec="OPTIONAL DOUBLE" />
            <C                           spec="OPTIONAL DOUBLE" />
            <C1                          spec="OPTIONAL DOUBLE" />
            <C2                          spec="OPTIONAL DOUBLE" />
            <D                           spec="OPTIONAL DOUBLE" />
            <energy_to_form_kink_pair    spec="OPTIONAL DOUBLE" />
            <edot_0e                     spec="OPTIONAL DOUBLE" />
            <edot_0i                     spec="OPTIONAL DOUBLE" />
            <edot_es0                    spec="OPTIONAL DOUBLE" />
            <epdot_0                     spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <epsilon_p0                  spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <g_0e                        spec="OPTIONAL DOUBLE" />
            <g_0es                       spec="OPTIONAL DOUBLE" />
            <g_0i                        spec="OPTIONAL DOUBLE" />
            <G0                          spec="OPTIONAL DOUBLE" />
            <gamma                       spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <Gamma_0                     spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <K                           spec="OPTIONAL DOUBLE" />
            <k_H                         spec="OPTIONAL DOUBLE" />
            <kappa                       spec="OPTIONAL DOUBLE" />
            <koverbcubed                 spec="OPTIONAL DOUBLE" />
            <n                           spec="OPTIONAL DOUBLE" />
            <m                           spec="OPTIONAL DOUBLE" />
            <M                           spec="OPTIONAL DOUBLE" />
            <mu_0                        spec="OPTIONAL DOUBLE" />
            <p                           spec="OPTIONAL DOUBLE" />
            <p_e                         spec="OPTIONAL DOUBLE" />
            <p_i                         spec="OPTIONAL DOUBLE" />
            <Peierls_stress              spec="OPTIONAL DOUBLE" />
            <q_e                         spec="OPTIONAL DOUBLE" />
            <q_i                         spec="OPTIONAL DOUBLE" />
            <s0                          spec="OPTIONAL DOUBLE" />
            <sigma_a                     spec="OPTIONAL DOUBLE" />
            <sigma_es0                   spec="OPTIONAL DOUBLE" />
            <sigma_g                     spec="OPTIONAL DOUBLE" />
            <sigma_i                     spec="OPTIONAL DOUBLE" />
            <sigma_0                     spec="OPTIONAL DOUBLE" />
            <sinf                        spec="OPTIONAL DOUBLE" />
            <sqrt_l_inv                  spec="OPTIONAL DOUBLE" />
            <theta                       spec="OPTIONAL DOUBLE" />
            <T_0                         spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <T_m                         spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <T_m0                        spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <T_r                         spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <theta_IV                    spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <Y_max                       spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <y0                          spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <y1                          spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <y2                          spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <yinf                        spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
          </plasticity_model>
          <PR                            spec="OPTIONAL DOUBLE" />
          <remove_particles              spec="OPTIONAL BOOLEAN" />
          <randomize_parameters          spec="OPTIONAL BOOLEAN" />
          <reduction_factor              spec="OPTIONAL DOUBLE" />
          <RTau1                         spec="OPTIONAL DOUBLE" />
          <RTau2                         spec="OPTIONAL DOUBLE" />
          <RTau3                         spec="OPTIONAL DOUBLE" />
          <RTau4                         spec="OPTIONAL DOUBLE" />
          <RTau5                         spec="OPTIONAL DOUBLE" />
          <shear_modulus                 spec="OPTIONAL DOUBLE" />
          <shear_modulus_model           spec="OPTIONAL NO_DATA" 
                                           attribute1="type REQUIRED STRING 'constant_shear, mts_shear, np_shear, ptw_shear, scg_shear'" >
            <mu_0                        spec="OPTIONAL DOUBLE" />
            <A                           spec="OPTIONAL DOUBLE" />
            <B                           spec="OPTIONAL DOUBLE" />
            <C                           spec="OPTIONAL DOUBLE" />
            <D                           spec="OPTIONAL DOUBLE" />
            <m                           spec="OPTIONAL DOUBLE" />
            <slope_mu_p_over_mu0         spec="OPTIONAL DOUBLE" />
            <T_0                         spec="OPTIONAL DOUBLE" />
            <zeta                        spec="OPTIONAL DOUBLE" />
          </shear_modulus_model>
          <specific_heat_model           spec="OPTIONAL NO_DATA" 
                                           attribute1="type REQUIRED STRING 'constant_Cp, steel_Cp'" />
          <stability_check               spec="OPTIONAL NO_DATA"
                                           attribute1="type REQUIRED STRING 'acoustic, becker, drucker, drucker_becker, none'" />
          <stddevstrain_nucleation       spec="OPTIONAL DOUBLE" />
          <strain_limit                  spec="OPTIONAL DOUBLE" />
          <StressIntensityF              spec="OPTIONAL DOUBLE" />
          <T0                            spec="OPTIONAL DOUBLE" />
          <taylor_quinney_coeff          spec="OPTIONAL DOUBLE" />
          <tolerance                     spec="OPTIONAL DOUBLE" />
          <useModifiedEOS                spec="OPTIONAL BOOLEAN" />
          <useObjectiveRate              spec="OPTIONAL BOOLEAN" />        <!-- FIXME: What is the default -->
          <use_time_temperature_equation spec="OPTIONAL BOOLEAN" />   <!-- FIXME: What is the default -->
          <volfracHE                     spec="OPTIONAL DOUBLE" />
          <yield_condition               spec="OPTIONAL NO_DATA" 
                                           attribute1="type REQUIRED STRING 'gurson, rousselier, vonMises'" >
            <f_c                         spec="OPTIONAL DOUBLE" />   <!-- FIXME: really optional? -->
            <k                           spec="OPTIONAL DOUBLE" />   <!-- FIXME: really optional? -->
            <q1                          spec="OPTIONAL DOUBLE" />   <!-- FIXME: really optional? -->
            <q2                          spec="OPTIONAL DOUBLE" />   <!-- FIXME: really optional? -->
            <q3                          spec="OPTIONAL DOUBLE" />   <!-- FIXME: really optional? -->
          </yield_condition>
          <yield_stress                  spec="OPTIONAL DOUBLE" />
          <Z                             spec="OPTIONAL DOUBLE" />   <!-- FIXME: what is this for? -->
          <zero_stress_upon_failure      spec="OPTIONAL BOOLEAN" />  <!-- FIXME: what is this for? -->

  <!-- The following are for the Kayenta model -->
  <B0        spec="OPTIONAL DOUBLE" /> <!--initial bulk modulus (stress) -->
  <B1        spec="OPTIONAL DOUBLE" /> <!--nonlinear bulk mod param (stress) -->
  <B2        spec="OPTIONAL DOUBLE" /> <!-- nonlinear bulk mod param (stress) -->
  <B3        spec="OPTIONAL DOUBLE" /> <!-- nonlinear bulk mod param (stress) -->
  <B4        spec="OPTIONAL DOUBLE" /> <!-- nonlinear bulk mod param (dim. less) -->
  <G0        spec="OPTIONAL DOUBLE" /> <!-- initial shear modulus (stress) -->
  <G1        spec="OPTIONAL DOUBLE" /> <!-- nonlinear shear mod param (dim. less) -->
  <G2        spec="OPTIONAL DOUBLE" /> <!-- nonlinear shear mod param (1/stress) -->
  <G3        spec="OPTIONAL DOUBLE" /> <!-- nonlinear shear mod param (stress) -->
  <G4        spec="OPTIONAL DOUBLE" /> <!-- nonlinear shear mod param (dim. less) -->
  <RJS       spec="OPTIONAL DOUBLE" /> <!-- joint spacing (iso. joint set)  -->
  <RKS       spec="OPTIONAL DOUBLE" /> <!-- joint shear stiffness (iso. case) (stress/length) -->
  <RKN       spec="OPTIONAL DOUBLE" /> <!-- joint normal stiffness (iso. case) (stress/length) -->

  <A1       spec="OPTIONAL DOUBLE" /> <!-- meridional yld prof param (stress)-->
  <A2       spec="OPTIONAL DOUBLE" /> <!-- meridional yld prof param (1/stress)-->
  <A3       spec="OPTIONAL DOUBLE" /> <!-- meridional yld prof param (stress)-->
  <A4       spec="OPTIONAL DOUBLE" /> <!-- meridional yld prof param (dim. less)-->

  <P0       spec="OPTIONAL DOUBLE" /> <!-- init hydrostatic crush press (stress)-->
  <P1       spec="OPTIONAL DOUBLE" /> <!-- crush curve parameter (1/stress)-->
  <P2       spec="OPTIONAL DOUBLE" /> <!-- crush curve parameter (1/stress^2)-->
  <P3       spec="OPTIONAL DOUBLE" /> <!-- crush curve parameter (strain)-->

  <CR       spec="OPTIONAL DOUBLE" /> <!-- cap curvature parameter (dim. less)-->
  <RK       spec="OPTIONAL DOUBLE" /> <!-- TXE/TXC strength ratio (dim. less)-->
  <RN       spec="OPTIONAL DOUBLE" /> <!-- TXE/TXC strength ratio (stress)-->
  <HC       spec="OPTIONAL DOUBLE" /> <!-- kinematic hardening modulus (stress)-->

  <CTI1       spec="OPTIONAL DOUBLE" /> <!--Tension I1 cut-off (stress)-->
  <CTPS       spec="OPTIONAL DOUBLE" /> <!--Tension prin. stress cut-off (stress)-->

  <T1       spec="OPTIONAL DOUBLE" /> <!--rate dep. primary relax. time (time)-->
  <T2       spec="OPTIONAL DOUBLE" /> <!--rate dep. nonlinear param (1/time)-->
  <T3       spec="OPTIONAL DOUBLE" /> <!--rate dep. nonlinear param (dim. less)-->
  <T4       spec="OPTIONAL DOUBLE" /> <!--not used (1/time)-->
  <T5       spec="OPTIONAL DOUBLE" /> <!--not used (stress)-->
  <T6       spec="OPTIONAL DOUBLE" /> <!--rate dep. nonlinear param (time)-->
  <T7       spec="OPTIONAL DOUBLE" /> <!--rate dep. nonlinear param (1/stress)-->
  <J3TYPE       spec="OPTIONAL DOUBLE" /> <!-- octahedral profile shape option (dim. less) -->
  <A2PF     spec="OPTIONAL DOUBLE" /> <!-- flow potential analog of A2 -->
  <A4PF     spec="OPTIONAL DOUBLE" /> <!-- flow potential analog of A4 -->
  <CRPF     spec="OPTIONAL DOUBLE" /> <!-- flow potential analog of CR -->
  <RKPF     spec="OPTIONAL DOUBLE" /> <!-- flow potential analog of RK -->
  <SUBX     spec="OPTIONAL DOUBLE" /> <!-- subcycle control exponent (dim. less) -->
  <DEJAVU   spec="OPTIONAL DOUBLE" />
  <FSPEED   spec="OPTIONAL DOUBLE" />
  <PEAKI1I  spec="OPTIONAL DOUBLE" />
  <STRENI   spec="OPTIONAL DOUBLE" />
  <FSLOPEI  spec="OPTIONAL DOUBLE" />
  <PEAKI1F  spec="OPTIONAL DOUBLE" />
  <STRENF   spec="OPTIONAL DOUBLE" />
  <JOBFAIL  spec="OPTIONAL DOUBLE" />
  <FSLOPEF  spec="OPTIONAL DOUBLE" />
  <FAILSTAT spec="OPTIONAL DOUBLE" />
  <FREE01   spec="OPTIONAL DOUBLE" />
  <FREE02   spec="OPTIONAL DOUBLE" />
  <FREE03   spec="OPTIONAL DOUBLE" />
  <FREE04   spec="OPTIONAL DOUBLE" />
  <FREE05   spec="OPTIONAL DOUBLE" />
  <FREE06   spec="OPTIONAL DOUBLE" />
  <FREE07   spec="OPTIONAL DOUBLE" />
  <FREE08   spec="OPTIONAL DOUBLE" />
  <YSLOPEI  spec="OPTIONAL DOUBLE" />
  <YSLOPEF  spec="OPTIONAL DOUBLE" />


        </constitutive_model>
        <crack                           spec="OPTIONAL NO_DATA" >
          <type                          spec="REQUIRED STRING 'friction'" />
          <mu                            spec="REQUIRED DOUBLE" />   <!-- FIXME: what is this for? -->
          <crack_segments                spec="REQUIRED NO_DATA" >
            <quad                        spec="REQUIRED NO_DATA" >
              <p1                        spec="REQUIRED VECTOR" />
              <p2                        spec="REQUIRED VECTOR" />
              <p3                        spec="REQUIRED VECTOR" />
              <p4                        spec="REQUIRED VECTOR" />
              <resolution_p1_p2          spec="REQUIRED INTEGER" /> <!-- FIXME: really integer? -->
              <resolution_p2_p3          spec="REQUIRED INTEGER" /> <!-- FIXME: really integer? -->
              <crack_front_sides         spec="REQUIRED STRING 'NYNN'" />
            </quad>
          </crack_segments>
        </crack>
        <density                         spec="OPTIONAL DOUBLE" />   <!-- FIXME: is this really optional?  Default? -->
        <EOS                             spec="OPTIONAL NO_DATA"
                                           attribute1="type REQUIRED STRING 'ideal_gas'" >
          <gas_constant                  spec="OPTIONAL DOUBLE" />
        </EOS>
        <geom_object                     spec="MULTIPLE" />
        <heat_transfer_coefficient       spec="OPTIONAL DOUBLE" />
        <initial_material_temperature    spec="OPTIONAL DOUBLE" /> <!-- FIXME: what is the default for this? -->
        <is_rigid                        spec="OPTIONAL BOOLEAN" /> <!-- FIXME: what is the default for this? -->
        <melt_temp                       spec="OPTIONAL DOUBLE" />
        <room_temp                       spec="OPTIONAL DOUBLE" />
        <specific_heat                   spec="OPTIONAL DOUBLE 'positive'" /> <!-- FIXME: is this really optional?  Default? -->
        <thermal_conductivity            spec="OPTIONAL DOUBLE 'positive'" /> <!-- FIXME: is this really optional?  Default? -->
        <toughness                       spec="OPTIONAL DOUBLE" />
        <velocity_field                  spec="OPTIONAL INTEGER" /> <!-- FIXME: really in integer? -->
      </material>
      <thermal_contact                   spec="OPTIONAL NO_DATA" />
    </MPM>

    <ICE                      spec="OPTIONAL NO_DATA" > 
      <material               spec="MULTIPLE NO_DATA"
                                attribute1="name OPTIONAL STRING" >
        <dynamic_viscosity    spec="REQUIRED DOUBLE 'positive'" />
        <EOS                  spec="REQUIRED NO_DATA"
                                attribute1="type REQUIRED STRING 'ideal_gas, hard_sphere_gas, TST, JWL JWLC Murnahan'" >
          <!--  TST  -->
          <a                  spec="REQUIRED DOUBLE" need_applies_to='type  TST' />
          <b                  spec="REQUIRED DOUBLE" need_applies_to='type  TST' />
          <Gamma              spec="REQUIRED DOUBLE" need_applies_to='type  TST' />
          <u                  spec="REQUIRED DOUBLE" need_applies_to='type  TST' />
          <w                  spec="REQUIRED DOUBLE" need_applies_to='type  TST' />
          
          <gas_constant       spec="OPTIONAL DOUBLE" need_applies_to='type  ideal_gas' />
          <!--  Guneisen  -->
          
          <!--  JWL & JWLC  -->
          <A                  spec="REQUIRED DOUBLE 'positive'" need_applies_to='type JWL JWLC' />
          <B                  spec="REQUIRED DOUBLE           " need_applies_to='type JWL JWLC' />
          <C                  spec="REQUIRED DOUBLE           " need_applies_to='type     JWLC' />
          <R1                 spec="REQUIRED DOUBLE 'positive'" need_applies_to='type JWL JWLC' /> 
          <R2                 spec="REQUIRED DOUBLE 'positive'" need_applies_to='type JWL JWLC' />
          <om                 spec="REQUIRED DOUBLE 'positive'" need_applies_to='type JWL JWLC' /> 
          <rho0               spec="REQUIRED DOUBLE 'positive'" need_applies_to='type JWL JWLC Murnahan' />
          <!--  Murnahan  -->
          <n                  spec="REQUIRED DOUBLE 'positive'" need_applies_to='type Murnahan' />
          <K                  spec="REQUIRED DOUBLE 'positive'" need_applies_to='type Murnahan' />
          <P0                 spec="REQUIRED DOUBLE 'positive'" need_applies_to='type Murnahan' />
          
        </EOS>
        <gamma                spec="REQUIRED DOUBLE 'positive'" />
        <geom_object          spec="MULTIPLE" />
        <isSurroundingMatl    spec="OPTIONAL BOOLEAN" />  <!-- FIXME: What is the default? -->
        <specific_heat        spec="REQUIRED DOUBLE 'positive'" />
        <thermal_conductivity spec="REQUIRED DOUBLE 'positive'" />

      </material>
    </ICE>

    <exchange_properties           spec="OPTIONAL NO_DATA" >
      <convective_fluid            spec="OPTIONAL INTEGER" /> <!-- FIXME: DOUBLE? IS THIS a Material index? -->
      <convective_solid            spec="OPTIONAL INTEGER" /> <!-- FIXME: DOUBLE? -->
      <do_convective_heat_transfer spec="OPTIONAL BOOLEAN" /> <!-- FIXME: What is the default? -->
      <exchange_coefficients       spec="REQUIRED NO_DATA" >
        <momentum                  spec="REQUIRED MULTIPLE_DOUBLES" />
        <heat                      spec="REQUIRED MULTIPLE_DOUBLES" />
      </exchange_coefficients>
      <heatExchangeCoeff           spec="OPTIONAL STRING 'variable'" />
    </exchange_properties>

  </MaterialProperties>

  <Models                     spec="OPTIONAL NO_DATA" >
    <Model                    spec="MULTIPLE NO_DATA"
                                attribute1="type REQUIRED STRING 'AdiabaticTable, Radiation, Simple_Burn, Steady_Burn, Test, Unsteady_Burn, mass_momentum_energy_src, PassiveScalar'" >
     
      <energy_src             spec="REQUIRED DOUBLE" need_applies_to="type mass_momentum_energy_src"/>
      <mass_src               spec="REQUIRED DOUBLE" need_applies_to="type mass_momentum_energy_src"/>
      <momentum_src           spec="REQUIRED VECTOR" need_applies_to="type mass_momentum_energy_src"/>
     
      <ActEnergyCondPh        spec="OPTIONAL DOUBLE" />
      <BoundaryParticles      spec="OPTIONAL INTEGER" />
      <BurnCoeff              spec="OPTIONAL DOUBLE" />
      <BurnrateModCoef        spec="OPTIONAL DOUBLE" />
      <CondPhaseHeat          spec="OPTIONAL DOUBLE" />
      <CondUnsteadyCoef       spec="OPTIONAL DOUBLE" />
      
      <Enthalpy               spec="OPTIONAL DOUBLE" />
      <fromMaterial           spec="OPTIONAL STRING" /> <!-- FIXME: Is this really optional?  If so, what is default? [R,r]eactant? -->
      <GasPhaseHeat           spec="OPTIONAL DOUBLE" />
      <GasUnsteadyCoef        spec="OPTIONAL DOUBLE" />
      <HeatConductGasPh       spec="OPTIONAL DOUBLE" />
      <HeatConductCondPh      spec="OPTIONAL DOUBLE" />
      <IdealGasConst          spec="OPTIONAL DOUBLE" />
      <IgnitionTemp           spec="OPTIONAL DOUBLE" />
      <material               spec="OPTIONAL STRING" />

      <MoleWeightGasPh        spec="OPTIONAL DOUBLE" />
      <PreExpCondPh           spec="OPTIONAL DOUBLE" />
      <PreExpGasPh            spec="OPTIONAL DOUBLE" />
      <radiatingGas           spec="OPTIONAL STRING 'BackgroundGas'" need_applies_to="type Radiation" />
      
      <RadiationModel               spec="OPTIONAL NO_DATA" >
        <calcFreq                   spec="REQUIRED DOUBLE" />
        <calcInterval               spec="OPTIONAL DOUBLE" /> <!-- FIXME: optional? -->
        <table_or_ice_temp_density  spec="REQUIRED STRING 'ice'" />
        <useTableValues             spec="REQUIRED BOOLEAN" />
        <DORadiationModel           spec="OPTIONAL NO_DATA" >
          <ordinates                spec="REQUIRED INTEGER" /> <!-- FIXME: integer? -->
          <opl                      spec="REQUIRED DOUBLE" />
          <property_model           spec="REQUIRED STRING 'radcoef'" />
          <spherical_harmonics      spec="REQUIRED BOOLEAN" />
          <linear_solver            spec="REQUIRED STRING 'hypre'" />
          <LinearSolver             spec="OPTIONAL NO_DATA" >
            <solver                 spec="REQUIRED STRING 'gmres'" />
            <preconditioner         spec="REQUIRED STRING 'jacobi'" />
            <max_iter               spec="REQUIRED INTEGER 'positive'" />
            <tolerance              spec="REQUIRED DOUBLE 'positive'" />
          </LinearSolver>
        </DORadiationModel>
      </RadiationModel>
      <rate                   spec="OPTIONAL DOUBLE" />
      <refPressure            spec="OPTIONAL DOUBLE" />
      
      <!--  Passive Scalar -->
      <scalar                        spec="OPTIONAL NO_DATA" 
                                       attribute1="name REQUIRED STRING" >
        <material                    spec="OPTIONAL STRING"/>
        <test_conservation           spec="OPTIONAL BOOLEAN"/>
        <constants                   spec="REQUIRED NO_DATA" >
          <AMR_Refinement_Criteria   spec="OPTIONAL DOUBLE" />
          <diffusivity               spec="OPTIONAL DOUBLE" />
          <initialize_diffusion_knob spec="OPTIONAL DOUBLE" />
        </constants>
        
        <geom_object          spec="MULTIPLE" />
      </scalar>
      
      
      <SpecificHeatBoth       spec="OPTIONAL DOUBLE" />
      <table                  spec="OPTIONAL NO_DATA" 
                                attribute1="name REQUIRED STRING 'adiabatic'"
                                attribute2="type REQUIRED STRING 'Arches'" >

        <defaultValue         spec="MULTIPLE DOUBLE"
                                attribute1="name REQUIRED STRING 'heat_loss, mixture_fraction_variance'" />
        <derivedValue         spec="MULTIPLE STRING"
                                attribute1="name REQUIRED STRING 'heat_capac_Cv, gamma, reference_heat_capac_Cp, 
                                                                  reference_mixture_molecular_weight, reference_heat_capac_Cv, reference_gamma'" />
        <constantValue        spec="MULTIPLE DOUBLE"
                                attribute1="name REQUIRED STRING 'viscosity, thermal_conductivity, reference_Temp'" />
        <filename             spec="REQUIRED STRING" />
      </table>
      <tableValue             spec="MULTIPLE STRING 'CO2, H2O'" />
      <toMaterial             spec="OPTIONAL STRING 'destination, PBXproductGases, Product, product'" /> <!-- FIXME: really optional?  default? [P,p]roduct? -->
      <ThresholdPressure      spec="OPTIONAL DOUBLE" />
      <ThresholdTemp          spec="OPTIONAL DOUBLE" />
      <varianceMax            spec="OPTIONAL DOUBLE" /> <!-- FIXME: double? -->
      <varianceScale          spec="OPTIONAL DOUBLE" /> <!-- FIXME: double? -->
    </Model>
  </Models>

  <PhysicalBC                 spec="OPTIONAL NO_DATA" >
    <MPM                      spec="REQUIRED NO_DATA" >
      <arches_heat_flux       spec="OPTIONAL NO_DATA" >
        <geom_object />
        <load_curve             spec="REQUIRED NO_DATA" >
          <id                   spec="REQUIRED INTEGER" />
          <time_point           spec="REQUIRED NO_DATA" >
            <time               spec="REQUIRED INTEGER" />
            <load               spec="REQUIRED INTEGER" />
          </time_point>
        </load_curve>
        <polynomial_data      spec="REQUIRED NO_DATA" >
          <file               spec="MULTIPLE STRING" />
        </polynomial_data>
      </arches_heat_flux>
      <force                  spec="MULTIPLE NO_DATA" >
        <lower                spec="REQUIRED VECTOR" />
        <upper                spec="REQUIRED VECTOR" />
        <force_density        spec="REQUIRED VECTOR" />
      </force>
    </MPM>
  </PhysicalBC>

  <!-- FIXME: why is this at the top level?  Shouldn't it be under a component or some such?  Todd? -->
  <Solver                     spec="OPTIONAL NO_DATA" 
                                attribute1="type REQUIRED STRING 'CGSolver, direct, hypre, hypreamr'" />

  <Poisson                    spec="OPTIONAL NO_DATA" >
    <delt                     spec="REQUIRED DOUBLE" />
    <maxresidual              spec="REQUIRED DOUBLE" />
  </Poisson>

  <AddMaterialProperties                   spec="OPTIONAL NO_DATA" >
    <exchange_properties           spec="OPTIONAL NO_DATA" >
      <convective_fluid            spec="OPTIONAL INTEGER" /> <!-- FIXME: DOUBLE? IS THIS a Material index? -->
      <convective_solid            spec="OPTIONAL INTEGER" /> <!-- FIXME: DOUBLE? -->
      <do_convective_heat_transfer spec="OPTIONAL BOOLEAN" /> <!-- FIXME: What is the default? -->
      <exchange_coefficients       spec="REQUIRED NO_DATA" >
        <momentum                  spec="REQUIRED MULTIPLE_DOUBLES" />
        <heat                      spec="OPTIONAL MULTIPLE_DOUBLES" />  <!-- FIXME: Is this really optional?  What is default?  Units? -->
      </exchange_coefficients>
      <heatExchangeCoeff           spec="OPTIONAL STRING 'variable'" />
    </exchange_properties>
    <ICE                                   spec="OPTIONAL NO_DATA" >
      <material                            spec="OPTIONAL NO_DATA" 
                                             attribute1="name REQUIRED STRING 'PBXproductGases'" >
        <EOS                               spec="OPTIONAL NO_DATA" 
                                             attribute1="type REQUIRED STRING 'JWLC'" >
          <A                               spec="REQUIRED DOUBLE" />
          <B                               spec="REQUIRED DOUBLE" />
          <C                               spec="REQUIRED DOUBLE" />
          <R1                              spec="REQUIRED DOUBLE" />
          <R2                              spec="REQUIRED DOUBLE" />
          <om                              spec="REQUIRED DOUBLE" />
          <rho0                            spec="REQUIRED DOUBLE" />
        </EOS>
        <includeFlowWork                   spec="REQUIRED BOOLEAN" />
        <dynamic_viscosity                 spec="REQUIRED DOUBLE" />
        <thermal_conductivity              spec="REQUIRED DOUBLE" />
        <specific_heat                     spec="REQUIRED DOUBLE" />
        <gamma                             spec="REQUIRED DOUBLE" />
        <geom_object />
      </material>
    </ICE>
    <MPM                                   spec="OPTIONAL NO_DATA" >
      <material                            spec="REQUIRED NO_DATA" >
        <constitutive_model                spec="REQUIRED NO_DATA" 
                                             attribute1="type REQUIRED STRING 'hypoelastic_plastic'" >
          <tolerance                       spec="REQUIRED DOUBLE" />
          <remove_particles                spec="REQUIRED BOOLEAN" />
          <zero_stress_upon_failure        spec="REQUIRED BOOLEAN" />
          <evolve_porosity                 spec="REQUIRED BOOLEAN" />
          <check_TEPLA_failure_criterion   spec="REQUIRED BOOLEAN" />
          <initial_material_temperature    spec="REQUIRED DOUBLE" />
          <initial_mean_porosity           spec="REQUIRED DOUBLE" />
          <initial_std_porosity            spec="REQUIRED DOUBLE" />
          <critical_porosity               spec="REQUIRED DOUBLE" />
          <frac_nucleation                 spec="REQUIRED DOUBLE" />
          <meanstrain_nucleation           spec="REQUIRED DOUBLE" />
          <stddevstrain_nucleation         spec="REQUIRED DOUBLE" />
          <initial_porosity_distrib        spec="REQUIRED STRING 'constant'" />
          <initial_mean_scalar_damage      spec="REQUIRED DOUBLE" />
          <initial_std_scalar_damage       spec="REQUIRED DOUBLE" />
          <critical_scalar_damage          spec="REQUIRED DOUBLE" />
          <initial_scalar_damage_distrib   spec="REQUIRED STRING 'constant'" />
          <shear_modulus                   spec="OPTIONAL DOUBLE" />
          <bulk_modulus                    spec="OPTIONAL DOUBLE" />
          <equation_of_state        spec="OPTIONAL NO_DATA" 
                                      attribute1="type REQUIRED STRING 'mie_gruneisen'" >
            <C_0                    spec="REQUIRED DOUBLE" />    <!-- FIXME: what is this? -->
            <Gamma_0                spec="REQUIRED DOUBLE" />
            <S_alpha                spec="REQUIRED DOUBLE" />
          </equation_of_state>
          <plasticity_model         spec="OPTIONAL NO_DATA"
                                      attribute1="type REQUIRED STRING 'isotropic_hardening, johnson_cook, mts_model,
                                                                        preston_tonks_wallace, steinberg_cochran_guinan, zerilli_armstrong'" >
            <A                      spec="REQUIRED DOUBLE" />
            <a                      spec="OPTIONAL DOUBLE" />
            <B                      spec="REQUIRED DOUBLE" />
            <beta                   spec="OPTIONAL DOUBLE" />
            <Boltzmann_constant     spec="OPTIONAL DOUBLE" />
            <C                      spec="OPTIONAL DOUBLE" />
            <C1                     spec="OPTIONAL DOUBLE" />
            <C2                     spec="OPTIONAL DOUBLE" />
            <energy_to_form_kink_pair spec="OPTIONAL DOUBLE" />
            <epdot_0                spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <epsilon_p0             spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <Gamma_0                spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <n                      spec="REQUIRED DOUBLE" />
            <m                      spec="OPTIONAL DOUBLE" />
            <mu_0                   spec="OPTIONAL DOUBLE" />
            <Peierls_stress         spec="OPTIONAL DOUBLE" />
            <sigma_0                spec="OPTIONAL DOUBLE" />
            <T_m                    spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <T_m0                   spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <T_r                    spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
            <Y_max                  spec="OPTIONAL DOUBLE" />  <!-- FIXME: What is this?  What is the default? -->
          </plasticity_model>
          <yield_condition          spec="OPTIONAL NO_DATA" 
                                      attribute1="type REQUIRED STRING 'gurson, rousselier, vonMises'" />
          <stability_check          spec="OPTIONAL NO_DATA"
                                      attribute1="type REQUIRED STRING 'acoustic, becker, drucker_becker, none'" />
          <damage_model             spec="OPTIONAL NO_DATA"
                                      attribute1="type REQUIRED STRING 'hancock_mackenzie, johnson_cook'" >
            <Dc                     spec="OPTIONAL DOUBLE" />  <!-- FIXME: what are these for? -->
            <D0                     spec="OPTIONAL DOUBLE" />
            <D1                     spec="OPTIONAL DOUBLE" />  <!-- FIXME: what is tihs?  is it really optional? -->
            <D2                     spec="OPTIONAL DOUBLE" />
            <D3                     spec="OPTIONAL DOUBLE" />
            <D4                     spec="OPTIONAL DOUBLE" />
            <D5                     spec="OPTIONAL DOUBLE" />
          </damage_model>
          <useModifiedEOS           spec="OPTIONAL BOOLEAN" />
        </constitutive_model>
        <density                           spec="REQUIRED DOUBLE" />
        <geom_object/>
        <melt_temp                         spec="REQUIRED DOUBLE" />
        <room_temp                         spec="REQUIRED DOUBLE" />
        <specific_heat                     spec="REQUIRED DOUBLE" />
        <thermal_conductivity              spec="REQUIRED DOUBLE" />
        <toughness                         spec="REQUIRED DOUBLE" />
      </material>
    </MPM>
  </AddMaterialProperties>

</Uintah_specification>
