<?xml version='1.0' encoding='ISO-8859-1' ?>
<Uintah_Include>

  <CFD>
    <ARCHES                             spec="OPTIONAL NO_DATA" >
      <initial_dt                       spec="REQUIRED DOUBLE 'positive'" />
      <variable_dt                      spec="REQUIRED BOOLEAN" />
      <nonlinear_solver                 spec="REQUIRED STRING 'explicit,
                                                               picard'" />

      <model_mixture_fraction_variance  spec="REQUIRED BOOLEAN" />
      <set_initial_condition            spec="OPTIONAL BOOLEAN" /> <!-- IF TRUE, then requires init_cond_input_file-->
      <init_cond_input_file             spec="OPTIONAL STRING" /> <!-- Should be required if set_intial_condition is true-->
      <turnonMixedModel                 spec="OPTIONAL BOOLEAN" />
      <recompileTaskgraph               spec="OPTIONAL BOOLEAN" />
      <scalarUnderflowCheck             spec="OPTIONAL BOOLEAN" />
      <EKTCorrection                    spec="OPTIONAL BOOLEAN" />
      <doMMS                            spec="OPTIONAL BOOLEAN" /> <!-- IF TRUE, then requires MMS block-->
      <!--Should change requirements on this MMS block if doMMS is
           true...  FIXME: Actually, shouldn't the pressense of an
           <MMS> block implie doMMS, and the absence imply not doing
           MMS?  We could also add doMMS as an attribute to the MMS
           block, and then key required/optional off of that...
      -->
      <MMS                              spec="OPTIONAL NO_DATA"
                                          attribute1="whichMMS REQUIRED STRING 'constantMMS, almgrenMMS'" >
        <mmsErrorType                   spec="REQUIRED STRING 'Linf, L2'" />  <!-- FIXME: is 'L' valid (almgrenMMS.ups)? -->
        <constantMMS                    spec="OPTIONAL NO_DATA" need_applies_to="whichMMS constantMMS" >
          <cu                           spec="REQUIRED DOUBLE" />
          <cv                           spec="REQUIRED DOUBLE" />
          <cw                           spec="REQUIRED DOUBLE" />
          <cp                           spec="REQUIRED DOUBLE" />
          <phi0                         spec="REQUIRED DOUBLE" />
          <esphi0                       spec="REQUIRED DOUBLE" />
        </constantMMS>
        <almgrenMMS                     spec="OPTIONAL NO_DATA" need_applies_to="whichMMS almgrenMMS" >
          <amplitude                    spec="REQUIRED DOUBLE" />
          <viscosity                    spec="REQUIRED DOUBLE" />
        </almgrenMMS>
      </MMS>
      <Turbulence                       spec="REQUIRED NO_DATA"
                                        attribute1="model REQUIRED STRING 'compdynamicprocedure, dynamicprocedure, smagorinsky'" >

        <variance_coefficient           spec="OPTIONAL DOUBLE" />
        <!--smagorinsky -->
        <cf                             spec="OPTIONAL DOUBLE 'positive'" />  
        <fac_mesh                       spec="OPTIONAL DOUBLE 'positive'" />
        <filterl                        spec="OPTIONAL DOUBLE 'positive'" />
        <!--dyn. smagorinsky -->
        <dynamicScalarModel             spec="OPTIONAL BOOLEAN" />
        <filter_variance_limit_scalar   spec="OPTIONAL BOOLEAN" />
        <filter_cs_squared              spec="OPTIONAL BOOLEAN" />
        <!-- going to leave complocal out based on the 'this model is a mess' comment-->
        <turbulentPrandtlNumber         spec="OPTIONAL DOUBLE 'positive'" /> <!--currently set to default in code to 0.4-->

        <var_const                      spec="OPTIONAL DOUBLE" /> <!-- FIXME: What is this? Does it have a range? -->
      </Turbulence>
      <Properties                       spec="REQUIRED NO_DATA"
                                          children1="ONE_OF(CHILD ColdflowMixingModel, NewStaticMixingTable, TabPropsTable)" >

        <empirical_soot                 spec="OPTIONAL BOOLEAN" />
        <filter_drhodt   spec="OPTIONAL BOOLEAN" />
        <first_order_drhodt   spec="OPTIONAL BOOLEAN" />
        <inverse_density_average   spec="OPTIONAL BOOLEAN" />
        <mixing_model                   spec="REQUIRED STRING 'coldFlowMixingModel, NewStaticMixingTable, TabPropsTable'" />
        <independent_variable           spec="MULTIPLE NO_DATA" 
                                            attribute1="active OPTIONAL STRING 'yes, true, no, false'"
                                            attribute2="name   REQUIRED STRING"
                                            attribute3="value  OPTIONAL DOUBLE" /> <!-- Default value for "active" is true, default value for "value" is 0; 
                                                                                        You can put as many independent variable tags as you want -->
        <ColdflowMixingModel            spec="OPTIONAL NO_DATA" >
          <Stream                       spec="MULTIPLE NO_DATA" >
            <density                    spec="REQUIRED DOUBLE 'positive'" />
            <temperature                spec="REQUIRED DOUBLE" />
          </Stream>
        </ColdflowMixingModel>

        <NewStaticMixingTable           spec="OPTIONAL NO_DATA" >
          <co_output                    spec="OPTIONAL BOOLEAN" />
          <inputfile                    spec="REQUIRED STRING" />
          <soot_precursors              spec="OPTIONAL BOOLEAN" />
          <sulfur_chem                  spec="OPTIONAL BOOLEAN" />
          <tabulated_soot               spec="OPTIONAL BOOLEAN" />
          <loud_heatloss_warning        spec="OPTIONAL BOOLEAN" />
        </NewStaticMixingTable>

        <optically_thin_model_opl      spec="OPTIONAL DOUBLE" />

        <TabPropsTable                  spec="OPTIONAL NO_DATA" >
          <table_file_name              spec="REQUIRED STRING" />
          <strict_mode                  spec="OPTIONAL BOOLEAN" />
          <diagnostic_mode              spec="OPTIONAL BOOLEAN" />
        </TabPropsTable>

        <emperical_soot               spec="OPTIONAL BOOLEAN" />
        <soot_factor                  spec="OPTIONAL DOUBLE '0,100'"/>

      </Properties>

      <BoundaryConditions               spec="OPTIONAL NO_DATA" > 
        
        <ScalarEfficiency               spec="OPTIONAL NO_DATA" >
          <scalar                       spec="MULTIPLE NO_DATA"
                                        attribute1="label REQUIRED STRING"
                                        attribute2="fuel_ratio REQUIRED STRING"
                                        attribute3="air_ratio REQUIRED STRING">
            <species                    spec="MULTIPLE NO_DATA"
                                        attribute1="label REQUIRED STRING"
                                        attribute2="mol_ratio REQUIRED STRING"/>
            <inlet                      spec="MULTIPLE STRING"/>
          </scalar>
        </ScalarEfficiency>
        <carbon_balance                 spec="OPTIONAL BOOLEAN" />
        <carbon_balance_es              spec="OPTIONAL BOOLEAN" />
        <sulfur_balance                 spec="OPTIONAL BOOLEAN" />
        <sulfur_balance_es              spec="OPTIONAL BOOLEAN" />
        <ramping_inlet_flowrate         spec="OPTIONAL BOOLEAN" />
        <FlowInlet                      spec="MULTIPLE NO_DATA" >
          <ramping_inlet_flowrate       spec="OPTIONAL BOOLEAN" />
          <SulfurMassFractionInFuel     spec="OPTIONAL DOUBLE '0,1'" />
          <Flow_rate                    spec="OPTIONAL DOUBLE" />
          <InletVelocity                spec="OPTIONAL DOUBLE" />
          <mixture_fraction             spec="REQUIRED DOUBLE" />
          <Prefill                      spec="OPTIONAL NO_DATA"
                                          attribute1="direction REQUIRED STRING 'X, Y, Z'" >
            <geom_object />
          </Prefill>
          <geom_object />
          <ExtraScalars                  spec="OPTIONAL NO_DATA">
            <scalar                      spec="MULTIPLE NO_DATA"
                                           attribute1="label REQUIRED STRING"
                                           attribute2="value REQUIRED STRING"/>
          </ExtraScalars>
        </FlowInlet>

        <intrusions                     spec="OPTIONAL NO_DATA" >
          <geom_object />
        </intrusions>

        <PressureBC                     spec="OPTIONAL NO_DATA" >
          <mixture_fraction             spec="REQUIRED DOUBLE 'positive'" />
          <geom_object/>
          <ExtraScalars                  spec="OPTIONAL NO_DATA">
            <scalar                      spec="MULTIPLE NO_DATA"
                                           attribute1="label REQUIRED STRING"
                                           attribute2="value REQUIRED STRING"/>

          </ExtraScalars>
        </PressureBC>

        <OutletBC                       spec="OPTIONAL NO_DATA" >
          <mixture_fraction             spec="REQUIRED DOUBLE 'positive'" />
          <geom_object/>
          <ExtraScalars                  spec="OPTIONAL NO_DATA">
            <scalar                      spec="MULTIPLE NO_DATA"
                                           attribute1="label REQUIRED STRING"
                                           attribute2="value REQUIRED STRING"/>

          </ExtraScalars>
        </OutletBC>

        <WallBC                         spec="OPTIONAL NO_DATA" >
          <geom_object/>
        </WallBC>
      </BoundaryConditions>

      <!-- FIXME: What is the different between this and the other PhysicalConstants? -->
      <PhysicalConstants                spec="REQUIRED NO_DATA" >
        <gravity                        spec="REQUIRED VECTOR" />
        <pressure                       spec="OPTIONAL DOUBLE" />
        <ref_point                      spec="REQUIRED VECTOR" />
        <viscosity                      spec="REQUIRED DOUBLE" />
      </PhysicalConstants>

      <ExtraScalars                     spec="OPTIONAL NO_DATA" >
        <scalar                         spec="MULTIPLE NO_DATA"
                                          attribute1="label REQUIRED STRING" >
          <carbon_balance               spec="OPTIONAL BOOLEAN" />
          <clip_value                   spec="OPTIONAL DOUBLE" />
          <noisy_clipping               spec="OPTIONAL BOOLEAN" />
          <initial_value                spec="REQUIRED DOUBLE" />
          <convection_scheme            spec="REQUIRED STRING 'central-upwind flux_limited'" />
          <PrecompTabSrcName            spec="OPTIONAL STRING" />
          <diffusion                    spec="OPTIONAL BOOLEAN" />
          <turbulentPrandtlNumber       spec="OPTIONAL DOUBLE" />
          <density_weighted             spec="OPTIONAL BOOLEAN" />
          <sources                      spec="OPTIONAL NO_DATA" >
            <source                     spec="MULTIPLE NO_DATA"
                                        attribute1="label REQUIRED STRING" />
          </sources>
          <sulfur_balance               spec="OPTIONAL BOOLEAN" />
          <useforDensity                spec="OPTIONAL BOOLEAN" />
        </scalar>
      </ExtraScalars>

      <ExplicitSolver                   spec="REQUIRED NO_DATA" >
        <do_standalone_RMCRT            spec="OPTIONAL BOOLEAN" />
        <RMCRTRadiationModel            spec="OPTIONAL NO_DATA" >
            <opl                        spec="REQUIRED DOUBLE" />
            <const_num_rays             spec="REQUIRED INTEGER 'positive'" />
            <rr_threshold               spec="OPTIONAL DOUBLE" /> 
            <property_model             spec="OPTIONAL STRING 'radcoef, patchmean, wsggm, fssk, fsck'" />
            <sampling_scheme            spec="OPTIONAL STRING 'simple_sample, RRSD, RRSDstratified'" /> 
              <RRSDstratified           spec="OPTIONAL NO_DATA" >
                 <x_n                   spec="REQUIRED INTEGER 'positive'" />
                 <y_n                   spec="REQUIRED INTEGER 'positive'" />
                 <z_n                   spec="REQUIRED INTEGER 'positive'" />
                 <theta_n               spec="REQUIRED INTEGER '1 30'" />
                 <phi_n                 spec="REQUIRED INTEGER '1 30'"/>
              </RRSDstratified>
        </RMCRTRadiationModel>
        <EnthalpySolver                 spec="OPTIONAL NO_DATA" >
          <convection_scheme            spec="REQUIRED STRING 'central-upwind'" />
          <radiation                    spec="REQUIRED BOOLEAN" />
          <radiationCalcFreq            spec="REQUIRED INTEGER" />
          <radCalcForAllRKSteps         spec="REQUIRED BOOLEAN" />
          <radCalcForAllImplicitSteps   spec="OPTIONAL BOOLEAN" />
          <discrete_ordinates           spec="REQUIRED BOOLEAN" />
          <DORadiationModel             spec="OPTIONAL NO_DATA" >
            <opl                        spec="REQUIRED DOUBLE" />
            <ordinates                  spec="OPTIONAL INTEGER" />
            <property_model             spec="OPTIONAL STRING 'radcoef, patchmean, wsggm'" />
            <linear_solver              spec="REQUIRED STRING 'hypre, petsc'" />
            <LinearSolver               spec="OPTIONAL NO_DATA" >
              <res_tol                  spec="REQUIRED DOUBLE" />
              <ksptype                  spec="REQUIRED STRING 'gmres'" />
              <pctype                   spec="REQUIRED STRING 'jacobi, blockjacobi'" />
              <max_iter                 spec="REQUIRED INTEGER" />
            </LinearSolver>
            <spherical_harmonics        spec="OPTIONAL BOOLEAN" />
          </DORadiationModel>
        </EnthalpySolver>

        <kineticEnergy_fromFC           spec="OPTIONAL BOOLEAN" /> <!-- FIXME: what does this default to? -->

        <ProbePoints                    spec="OPTIONAL NO_DATA" >
          <probe_point                  spec="MULTIPLE VECTOR" />
        </ProbePoints>
        
        <maxDensityLag                  spec="OPTIONAL DOUBLE" />

        <MixtureFractionSolver          spec="REQUIRED NO_DATA" >
          <convection_scheme            spec="REQUIRED STRING 'central-upwind, flux_limited'" />
          <limiter_type                 spec="OPTIONAL STRING 'superbee, vanLeer, upwind, none'"/>
          <boundary_limiter_type        spec="OPTIONAL STRING 'central-upwind, upwind'" />
          <central_limiter              spec="OPTIONAL BOOLEAN" />
        </MixtureFractionSolver>

        <MomentumSolver                 spec="REQUIRED NO_DATA" >
          <pressure_correction          spec="OPTIONAL BOOLEAN" />
          <filter_divergence_constraint spec="OPTIONAL BOOLEAN" />
          <convection_scheme            spec="REQUIRED STRING 'central, upwind'" />
        </MomentumSolver>

        <PressureSolver                 spec="REQUIRED NO_DATA" >
          <do_only_last_projection      spec="OPTIONAL BOOLEAN" />
          <normalize_pressure           spec="OPTIONAL BOOLEAN" />
          <linear_solver                spec="REQUIRED STRING 'hypre, petsc'" />
          <parameters                   spec="REQUIRED NO_DATA" >
            <max_iter                   spec="REQUIRED INTEGER 'positive'" />
            <preconditioner             spec="REQUIRED STRING 'jacobi, pfmg'" />
            <res_tol                    spec="REQUIRED DOUBLE" />
            <solver                     spec="REQUIRED STRING 'cg'" />
          </parameters>
        </PressureSolver>

        <restartOnNegativeDensityGuess  spec="OPTIONAL BOOLEAN" /> <!--default = false-->
        <NoisyDensityGuess              spec="OPTIONAL BOOLEAN" /> <!--default = false-->
        <timeIntegratorType             spec="REQUIRED STRING 'RK2SSP, FE'" />
        <turbModelCalcForAllRKSteps     spec="OPTIONAL BOOLEAN" />
        <turbModelCalcFreq              spec="OPTIONAL INTEGER" />
      </ExplicitSolver>

      <extraProjection                  spec="OPTIONAL BOOLEAN" />
    </ARCHES>
  </CFD>

</Uintah_Include>
